{
    "query": "如何在TH-eX上为liangyx用户添加 —reservation=x11权限？",
    "summaries": [
        "本文档介绍了TH-eX系统的用户分区设置、权限限制、磁盘配额以及状态查看命令。用户根据不同的分区有相应的结点数和任务运行时间限制。系统还对用户权限进行管理，基于合同规模限制使用资源，并要求用户在申请资源后才能访问计算结点。磁盘配额方面，用户有存储和文件数量的软硬限制，超出限制将影响数据操作。用户可通过相关命令查看分区、结点和作业状态，确保合理使用系统资源。",
        "在 TH-eX 系统下运行 FLOW-3D 软件的步骤如下：使用 `add_user` 命令为用户添加权限，拷贝提交脚本并修改参数，通过 `sbatch` 提交任务。无需在脚本中启动 lic，计算节点问题可通过安装 lsb 包或添加 `srun pty` 参数解决。",
        "EX计算节点已支持通过VNC图形化界面访问。用户需提交mantis申请管理员添加reservation=x11权限。启动VNC需加载模块并设置密码，使用vncserver和vncviewer命令。连接时需填写用户名、IP和端口，并输入密码。退出VNC可使用vncserver -kill命令。Windows用户可通过安装VNC Viewer软件，并使用SSH端口转发实现连接。"
    ],
    "contents": [
        "有具体如下表所示:表 3-1 用户分区设置分区限制ane ja |最多结点数 | BERK 任务最长运行时间debug4 用户调试分区 | 2 | 112 30 分钟oe 包机时用户分区 无short4 包规模普通用户分 HUIS LRT 2Klong4 包规模长队列用户分区 10 天debug6 用户调试分区 | -on 包机时用户分long6 包规模长队列用户分区由账吕权限决定 2 天21\nHISEEtee TH-eX 系统用户手册用户可以使用“大-1”或“yhcontrol show partition partition name” fii, F到相应的分区的详细信息。注意:由于大型集群系统具备一定故障率，为了保证系统稳定性，分区中有限定任务执行时间的限制，因此建议用户为程序设立“断点”从而保证任务由于意外中断后，可以继续运算。3.1.2 用户权限限制除了上述的分区限制，目前还根据用户的申请情况，针对用户做了一定的限制，该限制主要基于用户和中心签订合同的规模。包括: 最多可以使用的结点数、最多可以使用的核数、单个任务最多可以使用的结点数、单个任务最多可以使用的核数等。通过命令“yhacctmgr list association”可查看自己账号的具体权限设置。用户只有查看自己账号的权限，无查询其他账号的权限。用户在使用过程中，如果有超出自己合同范围内的计算规模的计算需求，请基于自己的需求，向中心提出申请，中心会根据用户需要审查后，进行一定的修改。为了保证系统和用户数据的安全，目前普通用户不能在没有申请资源时，就ssh 链接到计算结点，只有分配了相应的计算结点资源后，才能 ssh 到指定计算结点。3.1.3 磁盘配额限制为了合理利用有限的存储资源，目前中心对用户款认进行存储软限制 512G,存储便限制 IT，文件数软限制 100 万，文件数便限制 200 万的磁盘配额限制。用户登录后会出现如图 3-1 的磁盘配额信息:Filesystem used quota Limit grace files quota kimt = grace/fs2 3616 045126 1T - 13942 1999966",
        "【已解决】EX使用VNC图形化界面\n**标签**: vnc\n**创建时间**: 2024-03-22 11:12:18\n**更新时间**: 2024-07-23 10:55:25\n**作者**: 陈维耀\n说明：目前EX计算节点已经能够使用vnc，提交`mantis`让管理员添加`reservation=x11`权限即可。\n<a id=\"section1\"></a>\n一、超算系统vnc\n1. 启动VNC\n```bash\nmodule load vnc/3.0.3\n# 启动VNC，首次启动需要设置密码，根据提示完成\nvncserver :1\n# 启动图形界面\nvncviewer\n```\nmodule load vnc/3.0.3\n# 启动VNC，首次启动需要设置密码，根据提示完成\nvncserver :1\n# 启动图形界面\nvncviewer\n**注：**启动`VNC`时若显示下面输出则端口开启，若显示`A VNC server is already running as :8`，说明端口被占用，需要切换端口。\nae Py /\n[chenwy@th- ex- -tn1 ~]$ vncserver :8 -\nDesktop 'TurboVNC: th-ex-Ln1:8 (chenwy)' started on display th-ex-Ln1:8\nStarting applications specified in /fs2/software/vnc/TurboVNC//bin/xstartup. turbovne\nLog file is /fs2/home/chenwy/.vnc/th-ex-1n1:8.log\n2. 填写`VNC server`：`username@IP:port`，点击`Connect`\nNew TurboVNC Connection@th-ex-in0                             x\nTURBO) VNC server: | chenwy@192.168.10.50:5901           一\nWNC) hostdisplaynum, host:port = connect to VNC server\n[user@Jhost = start TurboVNC Session Manager for host",
        "【已解决】如何在 TH-eX 系统下运行 FLOW-3D 软件\n**标签**: flow3d\n**创建时间**: 2024-07-03 14:36:34\n**更新时间**: 2024-07-04 17:14:04\n**作者**: 郑刚\n**问题**：如何在 TH-eX 系统下运行 FLOW-3D 软件\n如何在 TH-eX 系统下运行 FLOW-3D 软件\n0 脚本已更新\n> 联系了系统部，不用在脚本中启动lic了！\n#!/bin/bash\n#SBATCH -N 1 -p cp6\nexport MODULEPATH=$MODULEPATH:/fs2/home/cfbc34/463f9f/modulefiles\nmodule purge\nmodule load flow3d/11.2\nsrun unbuffered runhyd\n1 安装\n使用 cfbc34 账号为用户添加权限\n[cfbc34@th-ex-ln1 ~]$ add_user flow3d 用户的用户名 支持专员的用户名\n2 使用\n参考脚本就行了\n2 测试（废弃）\nmkdir test\ncd test\ncp /fs2/home/cfbc34/463f9f/flow3d/11.2/examples/boxcast/prepin.inp .\ncp /fs2/home/cfbc34/463f9f/scripts/sub-flow3d112.sh .\nsbatch sub-flow3d112.sh\n3 正式使用（废弃）\n1、拷贝提交脚本到用户算例目录\n[user@th-ex-ln1 ~]$ cp /fs2/home/cfbc34/463f9f/scripts/sub-flow3d112.sh .\n2、提交任务\n[user@th-ex-ln1 ~]$ sbatch sub-flow3d112.sh\n踩过的坑\n1、计算节点无法启动 lic： 安装 lsb 包\n2、计算节点运行失败：运行时添加 `srun pty` 参数",
        "的状态提示VY. wt(EIS:有的时候用户登录会出现错误提示“Some errors happened when getting quotainfo. Some devices may be not working or deactivated. The data in \"[]\" is inaccurate. ”这是因为登陆结点 quota RAIA lakh, SPH AS BREA EL ae HH用户可以用命令“jlfs quota -g groupname /fs2” KAN BAB CAN EAE AR.或通过命令“lf quota -u username /fs2 ”查看 user 的配额信息。 (其中，groupname 和 username 可以用过 id 命令获得。)3. 2 状态查看命令在用户提交作业前，应先查看系统的使用情况，这样利于用户根据系统使用情况，进行选择。3.2.1 结点状态查看 yhinfo 或 yhiyhi 为 yhinfo 命令的简写，用户可以使用 yhi 或者 yhinfo 命令查看结点的使用情况，从而根据情况做出选择。可以通过命令 whi -1 获得结点更为详细的信息。He 3-3 yhi 输出的关键词说明KE 含义PARTITION 用户可用的计算分区AVAIL 可用状态: up 表示可用; down 表示不可用TIMELIMIT 该分区的作业最大运行时长限制NODES 结点数量4down: 不可用状态idle: 空闲状态alloc: 被分配状态STAT24\nNSz TH-eX 系统用户手册CD: 成功结束，completedF: 失败结束，failedTD: 超时，timeoutNF: 因节点故障而运行失败，node_fail作业状态转换的详细图如下，由于 CD, CA, F 这三个作业状态持续时间很短，因此使用 yhd 命令可能会观察不到这些状态。作业提交用户可以使用 yhg 查看自己提交的作业，为了保证用户的数据安全，普通用户通过 yho 只能看到自己提交的作业。查看作业明细:用户可以通过如下命令来查看目己提交的作业明细其中jobid 表示作业的记号，用户根据目己作业的情况填入即可，之后用户即可以看到该作业十分详细的信息。注意: 用户作业如果长时间为 CG 状态，表示作业没有正常退出，系统管理员",
        "一       口       x\nfile View Help\nvnc connect\n‘Address book\n~ 人\nchenwy                localhost:5908\n2 device(s)",
        "一\nWNC) hostdisplaynum, host:port = connect to VNC server\n[user@Jhost = start TurboVNC Session Manager for host\nAbout...     Options...     Connect     Cancel\n3. 输入VNC密码：\nStandard VNC Authentication [TLSVnc]@th-ex-In0                      x)\name\n| Password: ||                                                                                  ]\n4. 退出VNC：\n```bash\nvncserver -kill :1\n```\nvncserver -kill :1\n二、windows连接超算vnc\n1. 下载`vnc viewer`软件：https://www.realvnc.com/en/connect/download/viewer/\n2. 按照[部分一](#一、超算系统vnc)启动vncserver\n3. 打开`cmd`，输入下面命令将端口映射到本地（也可使用`mobaxterm`的`tunnel`）\n```bash\nssh -t -L 5901:localhost:5901 <username>@<ip> ssh -t -L 5901:localhost:5901 <nodename>\n```\nssh -t -L 5901:localhost:5901 <username>@<ip> ssh -t -L 5901:localhost:5901 <nodename>\n4. 打开`vnc viewer`输入`sever ip`即可连接：\nRealVNC Viewer",
        "用户登录后会出现如图 3-1 的磁盘配额信息:Filesystem used quota Limit grace files quota kimt = grace/fs2 3616 045126 1T - 13942 1999966 2000000图 3-1 磁盘配额登陆提示信息22\nPr TH-eX 系统用户手册表 3-2 磁盘配额各关键词说明5 ee >| Rhesystem |用户所在的共享分布式存储it | rEpiles |用疡已有的文伯数量 (单位: 个)it | 文件数量硬限制 〈单位: 个)以磁盘存储为例说明软、硬限制的含义，文件数软、硬限制的含义与其一样。用户使用存储低于 512G 时，如图 3-1 所示，存储状态正常，当用户使用存储介于512G 和 1T 之间时，存储状态如图 3-2 所示，kbytes 参数对应的数字带有“*”表示用户配额异营，“6d23h59m57Ss”表示一个月的倒计时，如果用户在倒计时结束前将使用存储清理到 512G 以下，则存储状态恢复正常。和否则用户的数据量超出软限制且超出倒计时，如图 3-3 所示。如果用户数据在倒计时期间继续增长，超出硬限制，则用户存储将无法写入，如图 3-4 Stax; 数据操作也会受限制，如图 3-5 所人小。Filesystem used quota Limit grace files quota Ltntt grace/Ts2 728G* 5126 iT 6d23h59m57s =Filesystem used quota Limit grace files quota Limtt grace/Ts2 728G* 5126 iT 438942 =Filesystem used quota limit files quota limit = grace/fs2 1.237 ;23\nNSC[nscctj@th-ex-1n0] $ cp test.txt test2.txtcp:writing './test2.txt':Disk quota exceededcp:writing './test2.txt':Input/Output3-5 用户数据超出磁盘配额限制的状态提示VY. wt(EIS:有的时候用户登录会出现错误提示“Some errors happened when getting quotainfo. Some devices may be not working or deactivated."
    ]
}