{
    "query": "当前 Lustre文件系统中挂载的OST数量是多少？",
    "summaries": [
        "Lustre 文件系统操作手册摘要：介绍了如何创建和挂载 Lustre 文件系统，包括使用 mkfs.lustre 命令创建 MGS、MDT 和 OST，以及通过 mount.lustre 挂载文件系统。详细说明了挂载选项，如 mgsname、block_device、安全设置、flock 选项、statfs 行为等，帮助用户优化和管理 Lustre 文件系统。",
        "Lustre 文件系统操作手册主要介绍文件条带化、配额管理、对象存储目标（OST）信息查询等功能。用户可通过命令设置文件的条带数量、大小和起始 OST，支持多种单位和选项。同时提供查看文件布局、OST 状态、磁盘使用情况及配额限制的工具。手册还涉及文件属性设置、目录遍历、池管理等操作，适用于管理和优化 Lustre 文件系统的性能与存储结构。",
        "Lustre 是一种分布式文件系统，包含多个组件。MDT（元数据目标）用于存储文件系统的元数据，主 MDT 保存根目录，其他 MDT 可用于子目录。OSS（对象存储服务）为 OST（对象存储目标）提供 I/O 服务，每个 OST 存储文件数据。客户端通过 MDC（元数据客户端）和 OSC（对象存储客户端）访问文件系统。条带化目录可将目录分布到多个 MDT 上，形成统一的命名空间。LNet 是 Lustre 的网络通信基础设施。FID（文件标识符）用于唯一标识文件，支持多 MDT 环境。LFSCK 工具用于检查文件系统一致性。文件数据通过布局 EA 存储在 OST 上，客户端根据布局信息进行读写操作。"
    ],
    "contents": [
        "uster/mds// max atime diff) 时才会更新。Lustre 软件考虑了所有OST 的最新时间。如果asetattz由用户设置，它在 MDS 和OST 上都会更新，并允许atime问后移动。上次文件状态变更发生在 N*24 小时前的文件。上次文件内容变更发生在 N*24 小时前的文件。在特定 OST 上有对和象的文件。特定文件大小的文件。文件大小默认单位为bytes，或者给出后23\" kilo-, Mega-, Giga-, Tera-, Peta-的不同单位。FLASHY block, character. directory. pipe. file. symlink,socket. door 的文件 (在 Solaris 操作系统中使用)。有指定用户数字 ID 的文件。指定用户〈可使用用户数字 ID) 所有的文件。有指定组 ID 的文件。指定组〈可使用组数字 ID) 所有的文件。查找目标树的最多下降 N 级。打印务整文件名，新的一行或NULL 字符跟随其后。列出文件系统的所有 OST。如果指定了挂载 Lustre 文件系统的路径，则仅显示属于此文件系统的 OST.列出与每个 Lustre 挂载点关联的所有 Lustre 文件系统实例。如末未指定路径，则会询问所有 Lustre 挂载点。如果提供了路径列表，则将给出相应的路径实例。如果某路径不是 Lustre 实例，则将返回\"No such device\".516\n这ayLustre 文件系统操作手册 译者:=H+elygetstripe--obd ost_name--quiet--verbose--stripe-count | 列--index--offset--pool--SIZe--directory--recursivesetstripe--stripe-count| 用于stripe_cnt--overstripe-countstripe cnt | tHE.对|每个OST说明列出给定文件名或目录的条带信息。软认返回条带计数、条市大小和侦移量。如果您只需要特定的条市信息，可选择—--stripe-count, --stripe-size, --stripe-index,--Layout或--poo1以及这些选项的各种组合以用于检索特定信息。如采指定了--zaw选项，则打印条带信息时不会将文件系统默认值值荐换为未指定的字",
        "-t -Ul-g| -p /mount pointquotachown说明移至下一个 OST 之前在当前 OST 上存储的字刷数。stripe_size为0时，使用文件系统的默认条市大小〈默认为1MB)。可使用k (KB )、m (MB) 或g (GB) 进行指定。(默认stripe _ size为0，默认的start-ost为 -1，注意AEG! 如果把start-ost设置为0 ，则所有新文件创建都发生在 OST 0 上，这一般不是个好主意)文件条弟化开始的 OST 索引【基数为10，从 0 开始)。statrt_ost_indqex值为-1 (默认值) ，人允许 MDS 选择起始索引。这意味着 MDS 会根据需要选择起始 O0ST。我们强烈建议选择此默认值，它允许了 MDS 根据需要实现空间和负载平衡。start ost _indqex的值与MDS 对文件中的剩余条带使用循环算法还是 QoS 加权分配无关。文件条弟化开始的 OST 索引【基数为10，从 0 开始)。FAP aR CAN TUE XL OST 池名称。还使用了stripe_cnt，stripe size flstart ost值。start-ost值必须是池的一部分，和否则将返回错误。删除指定目录上的默认条市化设置。列出文件系统或路径名中的池，或文件系统池中的 OST.显示完整文件系统或特定OBD 上对象的磁盘使用情况和限制。可以指定用户、组名称或usr，组和项目ID 。如果所有用户、组项目ID 都被省略了，则显示当前 UID/GID 的配额。使用-9选项将不会打印其他描述〈包括列标题) ，它使用零来项充宽限期那一列中的空格〈当没有设置宽限期时) 来确保列数一致。使用-v选项将提供更详细 〈每 OBD 统计信息) 的输出。显示用户 〈-u)、组 (-g) BMA (-p) 配额的块和 inode #限时间。在指定文件系统的 OST 上更改文件的所有者和组。518\nLustre 文件系统操作手册%my这ayquotacheck",
        "Lustre 文件系统操作手册这ay选项block_ device44.15.3. 选项选项mgsname=mgsnode [:mgsnode ]mgsnode=mgsnid[,mgsnid]mgssec=flavor说明在物理磁盘 block_device 上局动由mkfs. lustre (8) 命令定义的目标服务。指定block device，可使用1 label 来查找具有该标签 (如testfs-MDT0000) 的第一个块设备，或通过U uuid 选项使用UUID。如果在同一节点上存在目标文件系统的设备级备份，请格外小心。这是因为如果目标文件系统没有使用tune2fs (8)或类似命令进行更改，会产生重复的标签和 UUID 。挂载在 mountpoint 上的目标服务文件系统仅对qf (1) 操作有用，并会出现在/Proc/Vmounts中，表明该设备正在使用中。说明mgsname 是以冒号分隔的 mgsnode 名称列表，可运行 MGS 服务。如果 MGS 服务配置为 HA 故障切换模式且可能在任何一个节点上运行，则可指定多个 mgsnode 值。如果 mgsnode 有不同的LNet 接口，则每个mgsnode 通过逗号分隔的 NID 列表进行指定指定连接 MGS 的初始网络 RPC 的加密特性。砷安全的特性有: nul1，Plain和gssnul1，分别表示用于测试目的的蔡用、无加密功能或非完整性功能。Kerberos 特性有: krb5n,krb5a，krb5i和krb5p。共享密钥的风格有: skn，ska，ski和skpi。客户端到服577\nLustre 文件系统操作手册这ay选项 说明务髓连接的安全特性在客户端从 MGS 获取的文件系统配置中指定。skpath=file|directory 为此 mount 命令加载的密钥文件的文件路径或目exclude=ostlist录路径。密钥将被插入到内核的KEY SPEC SESSION KEYRING密钥环中，并附价有包含1ustre :字样及后缀的说明。该后绥取诀于 mount 命令的会话是用于 MGS，MDT/OST 还是客户问。司动客户端或MDT，指定不符试连接的已知的非活动 OST 列表〈由冒号分隔)。除了标准的 mount(8) 选项外，Lustre 还能读懂以下特定于客户端的选项:选项always pingflocklocalflock说明即使服务",
        "的所有使得 Lustre 能件系统类型。FID-in-dirent 功能够识别多个 MDT 上的文件，独立于底层文能向后兼容 1.8 版本的 Idiskfs 磁盘格式。因此，从版本 1.8 FF级到版本 2.x 时，FID-in-dirent 功能不会目动后用。从版本 1.8 升级到版本 2.0 或 2.3 时，可手动启用FID-in-dirent，但这一操作只对新文件生效。LFSCK 文件系统一致性检查工具验证了MDT 和 OST 之间文件对象的一致性。具AUT F :.验证每个文件的 PID-in-dirent,37如其无效或丢失，则重新生成FID-in-dirent。\nLustre 文件系统操作手册 译者: Ba。验证每个 linkEA 条目，如其无效或丢失，则重新生成。linkEA 由文件名和父类FID 组成，它作为扩展属性存储在文件本身中。因此，linkEA 可以用来重建文件的完整路径名。有关文件数据在OST 上的位置的信息将作为扩展属性布局 EA，存储在由FID 标WARY MDT 对象中〈有具体如下图所示)。戎该文件是普通文件〈即不是目录或符号链接) ，则 MDT 对象指向包含文件数据的OST 上的1对NOST 对象。若该MDT 文件指向一个对象，则所有文件数据都存储在该对象中。若该MDT 文件指向多个对象, 则使用RAID0 将文件数据划分为多个对象，将每个对象存储在不同的 OST 上。Layout EA Stored Data Stored on OSTson MDT图 3: Lustre cluster at scale当客户端读写文件时，首先从文件的MDT 对象中获取布局EA ，然后使用这个信息ESCHER EBT I/O, ERS ART RY OSS 贡点进行交互。有具体过程如下图所示。38\nLustre 文件系统操作手册 译者:这ay1 File open requestedLayout EA returnedFID (Object J. Object K,...)Object Kwritten图 4: Lustre cluster at scaleLustre 文件系统的可用带宽如下:网络带宽等于OSS 到目标的总带宽。dena OSE Tet Atty (",
        "指定不符试连接的已知的非活动 OST 列表〈由冒号分隔)。除了标准的 mount(8) 选项外，Lustre 还能读懂以下特定于客户端的选项:选项always pingflocklocalflock说明即使服务从PtIzpPc模块配置了suppress_pings选项，客户端也会在空闲时定期 ping 服务器。这使得客户端即使不是外部客户端运行状况监视机制的一部分也能够可靠地使用文件系统。(在Lustre 2.9 中引入)使用flock (2) 系统调用在参与的应用程序之间启用文件锁定文持，以便文件锁定在所有使用此挂载选项的客户端节点上保持一致。这将在应用程序需要路多个客户端节点进行一致的用户空间文件锁定时非常有用，但为了保持此一致性同时也增加了通信开局用客户端本地flock(2)支持，仅使用客户端本地的文件锁定。这比使用全局flLock选项更快，并且可以用于依赖于flock (2)但仅在单个节点上运行的应用程序。它通过仅使用 Linux 内核锁实现了最小开销。xm378\nayLustre 文件系统操作手册 译者: 李选项 说明noflock 完全禁用flock (2) ，为默认选项。调用flock (2) 的应用程序会出现ENOSYS错误。管理员可以根据需要选择1ocalf1lock或flock挂载选项。可使用不同的选项挂载客户端，但只有那些使用flock挂载的客户端才能相互保持一致性。lazystatfs 在某些 OST 或 MDT 无啊应或已在配置中暂时或永久禁用时仍允许返回statfs(2) (pedt (1)和1Lfs-dqf(1)使用)，从而避免所有目标都可用前的阻塞。这是目 Lustre 2.9.0 以来的默认行为。nolazystatfs 使statfs (2) BAIE, BAA OST 和MDT 都可用后再返回空间使用情况。user xattr 人允许user .*命名空间中的普通用户获取/设置扩展属性。有关更多详细信息，请参见attt (5) 于册页。nouser xattr 禁用usez .*命名空间中的普通用户使用扩展属性。root 和系统进程仍可以使用扩展属性。verbose 启用额外的 mount/umount 控制台消息。noverbose AS FA AY SAY) mount/umount 控制台消息。user fid2path",
        "--stripe-size, --stripe-index,--Layout或--poo1以及这些选项的各种组合以用于检索特定信息。如采指定了--zaw选项，则打印条带信息时不会将文件系统默认值值荐换为未指定的字段。如果未设置条市化 EA，则将分别打印条市计数、大小和偏移量为0、0 和 -1。--mqt-indqex 打印给定目录下 MDT 的索引。列出在特定 OST 上具有对象的文件。列出有关文件的对象 ID 的详细信息。打印附加的条带信息。出条市计数〈使用的 OST 个数)。列出文件系统每个OST 的索引。列出文件条带开始的 OST 索引。列出文件所属的池。列出条带大小〈在移至下一个OST 前写入当前 OST 的数据量)列出指定目录的条目而不是其内容〈与1s -d的方式相同)。递归到所有子目录。使用指定文件布局〈条市模式) 创建新文件。(在使用setstripe之前，目录必须存在，文件不能存在)CEA LEY OST 数。当stripe_cnt为0 时使用文件系统范围的默认条市计数 〈默认值为1)。当stripe_cnt为-1 时，在所有可用 OST 上进行条带化。| G--stripe-count 相同，但允许使用 overstriping，如果stripe_cnt大于 OST 的数量，则每个 OST 会放置一个以上的条 | 于将条融数量与进程数量相匹配，或者对于速度非首快的OST，放置一个条市不能获得好的性能时，Overstriping 是非MAA.517\nLustre 文件系统操作手册这ay=H+ely--size stripe size--stripe-indexstart_ost_index--ost-index--pool poolsetstripe -dpool list{filesystem}[.poolname]|{pathname}quota [-q][-v] [-oobd_uuid| -1mdt_idx| -Iost_idx][-ul|-g|-punameuid|gnamelgid|projid] /mount_pointquota -t -Ul-g| -p /mount pointquotachown说明移至下一个 OST 之前在当前 OST 上存储的字刷数。stripe_size为0时，使用文件系统的默认条市大小〈默认",
        "MDT。除保存文件系统根目录的主 MDT之外，还可以添加其他 MDS “it, fs MDS “aA AY MDT 来保存文件系统的子目录树。35\nLustre 文件系统操作手册 eke<DCZR At在 Lustre 2.8 中，DNE 还允许文件系统将单个目录的文件分发到多个 MDT “5 fo分布在多个MDT 上的目录称为条带化目录。“对象存储服务希 (OSS): OSS 为一个或多个本地 OST 提供文件 IO 服务和网络请MDF. WAY, OSS 服务于两个到八个 O0ST，每个最多 16TiB ，在专用节点上配置一个MDT，在每个 OSS 蔬氮上配置两个或更多 OST，以及在大量计算节点上配置客户端。> 对象存储目标 (OST): 用户文件数据存储在一个或多个对象中，每个对象位于Lustre 文件系统的单独 OST 中。每个文件的对象数由用户配置，并可根据工作负载情况调试到最优性能。。 Lustre 客户器: Lustre 客户端是运行 Lustre 客户端软件的计算、可视化、棵面节ka, LARA Lustre 文件系统。Lustre 客户端软件为 Linux 虚拟文件系统和 Lustre AR ae GEE PRE PEP iTOE ELT “EL Ps, 〈(MGC) ，一个元数据客户端 (MDC) 和多个对象存储客户端90SC) 。一个客户端软件对应于文件系统中的一个 OST。WAKA (LOV) 通过聚合 OSC 以提供对所有 OST 的透明访问。因此，载入了Lustre文件系统的客户端会看到一个连贯的同步名称空间。多个客户端可以同时写入同一文件的不同部分，而其他客户端可以同时读取文件。罗辑元数据卷 (LMV) 通过聚合 MDC 提供一种与 LOV 文件访问方式类似的对所有 MDT 的透明访问。这人允许了客户端将多个 MDT 上的目录树视为一个单一的连贯名称空间，并将条带化目录合并到客户端形成一个单一目录以便用户和应用程序查看。下表给出了每个 Lustre 文件系统组件的附加存储要求，以及理想的硬件特性。MDSOSSsClien所需附加空间 硬件特性偏好S 1",
        "打印简明信息。重新格式化已有的 Lustre fea.用于优化 MDT 的 inode 大小。打印更多信息。575\nLustre 文件系统操作手册这ay44.14.3. 示例在文件系统 testfs 的节点cfs21上创建组合的MGS 和 MDT:1 mkfs.lustre --fsname-testfs --mdt --mgs /dev/sdal在文件系统 testis 的任一节点上创建一个OST (使用以上 MGS) :1 mkfs.lustre --fsname-testfs --mgsnode=cfs21@tcp0 --ost --index=0 /dev/sdb在节点cfs22上创建独立的 MGS:1 mkfs.lustre --mgs /dev/sdal在文件系统 myfsl WET EGET MDT 〈使用以上 MGS):1 mkfs.lustre --fsname=myfs1 --mdt --mgsnode=cfs22@tcp0 /dev/sda2也可参见\"本章滴 14. mkfs.lustre\", \"15. mount.lustre\".44.15. mount.lustremount.lustre 实用程序可用于局动 Lustre 客户端或目标服务。44.15.1. 梗概1 mount -t lustre [-o options] device mountpoint44.15.2. 说明使用 mount.lustre 实用程序司动 Lustre 客户端或目标服务，不应直接调用。它是通过 mount(8) 调用的辅助程序。使用 umount 命令停止 Lustre 客户端和目标。device 选项有两种形式，有具体取决于客户端或目标服务是否已启动:选项 说明mgsname:/fsname[/subdir] 通过联系 mgsname 上的 Lustre ManagementService，在目录 mountpoint 中的客户端上挂载名为 fname 的 Lustre 文件系统〈如果指定了subdir ，则从文件系统的子目录 subdir 启动) 。mgsname 的格式定义如下。可在fstab (5) 中列出客户端文件系统，以便在司动时自动挂载。客户端文件系统即可像其他本地文件系统一样使用，并提供完整的 POSIX 标准兼容接口。576\nLustre 文件系统操作手册这ay选项block_ device44.15.3. 选项选项mgsname=mgsnode [:mgsnode ]mgsnode=mgsnid[,mgsnid]mgssec=flavor说明在物理磁盘 block_device 上局动由mkfs",
        "，并将条带化目录合并到客户端形成一个单一目录以便用户和应用程序查看。下表给出了每个 Lustre 文件系统组件的附加存储要求，以及理想的硬件特性。MDSOSSsClien所需附加空间 硬件特性偏好S 1-2% 的文件系统容量 ”足够大的 CPU 功率, 足够大的内存, 快速磁盘存储。1-128 TB per OST, EAB AZT aE, ARTE OSSs 间均匀分配并与网络1-8 OSTs per OSS 带宽匹配ts 无需本地存储 低延民，高网络放宽1.2.3 Lustre 网络 LNebLustre Networking (LNet) 是一种定制网络 API，提供处理 Lustre 文件系统服务融和客户端的元数据和文件 IO 数据的通信基础设施。30\nLustre 文件系统操作手册 译者: AA1.2.4 Lustre 集群在规模上，一个 Lustre 文件系统集群可以包含数百个 OSS FART TE Pe (如下图所示)。Lustre 集群中可以使用多种类型的网络，功能LustreClientsPOOOO:= InfiniBand network= Ethermet network1.3. LustreManagement Metadataservers (MiSs) servers [(MDSs}J MGT © MDTcba MGS 2 oes MIS 2factive) istandby) = fagtive) (standb vi¢ = failover capability =O55 7Object Storageservers (55s)LustreRouters=图 2: Lustre cluster at scale文件系统存储与 UOOSS 乙间的共享存储局用故队切换Qhject StorageTargets (O STs)Commodity Storage&)Enterprise-Class StorageArrays and SAN FabricLustre 使用文件标识符 (FID) 来替换用于识别文件或对象的 UNIX inode 编号。FID是一个 128 位的标识KF (OID),Lustre 目标中都是唯一的。这4符，其中 ，64 位用于存储唯一的序列号，32 位用于存储对象标识另外 32 位用于存储版本号。序列号在文件系统 COST 和 MDT) 中的所有使得 Lustre 能件系统类型。FID-in-dirent 功能够识别多个 MDT 上的文件，独立于底层文能向后兼容 1.8 版本的 Idiskfs 磁盘格式。因此，从版本 1.8"
    ]
}