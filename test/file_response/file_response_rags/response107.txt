{
    "query": " yhacctmgr 和 yhcontrol 分别可以实现什么功能？",
    "summaries": [
        "yhacctmgr 是资源管理系统中的命令行工具，用于管理账户、关联和集群配置。常用选项包括显示帮助(-h)、不显示头信息(-n)、输出一行记录(-o)、静默模式(-Q)、详细日志(-v)、版本信息(-V)等。支持命令如 add、create、delete、list、show、modify 等，用于添加、删除、显示和修改实体信息。关联(association)用于管理资源限制，如 CPU 分钟、作业数、节点数等。可通过参数设置账户的资源配额，并支持导出/导入集群数据。",
        "yhacct 是资源管理系统中用于查看作业记账数据的命令，可显示作业、作业步、状态及退出代码等信息。默认显示所有用户作业（root 用户），非 root 用户仅显示自身作业。支持多种选项，如 --format 自定义字段、--user 或 --uid 过滤用户、--cluster 指定集群、--dump 转储原始数据等。部分系统可能因 getrusage() 信息不全导致数据为 0。可用字段包括 CPU 时间、内存使用、作业状态等，输出格式可调整。",
        "yhtrigger 是一个用于在资源管理系统中设置和管理触发器的工具，当特定事件发生时（如节点状态变化、作业结束等），可以执行预定义的动作，如运行脚本。触发器通过周期性检查（默认15秒）来处理事件，并且需要在下一个周期前重新设置以避免丢失事件。触发器可以基于节点状态、作业状态、时间限制等条件设置，且动作程序在管理节点上执行。用户可通过命令行选项查看、设置和删除触发器，同时支持多种事件类型和参数配置。yhacctmgr 则用于查看和修改帐号信息，基于用户、集群、分区和帐号的关联记录进行操作。"
    ],
    "contents": [
        "list空格。缺省没有组限制。-h, --help显示帮助信息。-j，--jobs=7o0(.steD)六 (4B) 的信息。jobfstep) 参数为逗号能有空格。缺省为显示所有作业的信息。-l1, --long142ay WME Cae)令从指定的文件而不是系统配置的作业记账日志文件中读取数据。分隔的组名字或组 GID 列表，其中不列表，其中\n16.1. yhacct等价于指定 “--fields=jobid,jobname ,partition,maxVvsize ,maxVsiZzenode ，maxvsizetask,avevsize ,maxrss ,maxrssnode,maxrsstask,averss ,maxpages ，maxpagesnode ,maxpagestask, avepages ,mincpu,mincpunode ,mincputask,avecpu,ntasks ,alloccpus,elapsed,state,exitcode”.-L, --allclusters显示所有集群上的作业信息。缺省地，只有执行 yhacct 的集群上的作业信息被显示。-n, --noheader输出中不显示数据头。缺省显示数据头。当使用 --dump 时此选项无效。-N, --nodes=nodelist显示运行在指定节点上的作业信息。-o, --format=field_list和逗号分隔的字段列表《〈可用字段见 --helpformat ).注意: 可以在字段后跟“%NUMBER”以指定要输出多少个字符。例如，--format=jobname%30 将以右对齐显示 30 个字符的作业名字。”“-30”将以左对齐Py fr显示 30 个字符。-0, --formatted_dump以易读形式转储记账记录。此选项用于调试。-Pp，--parsabjle输出将以“|”分隔，结尾有“|”-P, --parsable2输出将以“|”分隔，结尾没有有“-r, --partition=part_list仅显示指定分区中的作业或作业步信息。缺省显示所有分区的作业。part_1st Ave号分隅的分区名字列表。-s, --state=state_ list仅显示指定状态的作业信息，状态代码如下:— r: running143\n资源管理系统手册— s: suspended— ca: cancelled— cd: completed— pd: pendingf: failed— to: timed out—",
        "列表，其中不能有空格。-1 表示所有集群。缺省为执行 yhacct 命令所在的集群。e -C，--cCompletion显示作业完成记录，而不是作业记账数据。。 -d, --dump转储原始数据记录。使用此选项时的数据输出请参见“解释 --dump 选项输出”一HeTHe --duplicates行资源管理系统作业 JobID 被重置，但是作业记账文件没有同时重置“比如使用 -e 选项)，则在记账日志文件中同一作业 JopID 可能出现多次，代表不同的作业。这些作业可以通过数据记录中的作业提区时间进行区别。当使用 --jobs 选项请求查看特定作业的数据时，将假定用户仅想要查看具有指定作业 ID 的最近的作业。此行为可被 --duplicates 选项覆盖，该情况下所有满足选择条件的记录数据都将被显示。e -e, —--helpformat输出可以通过 --format 指定的输出字段列表。可用的字段有:141\n资源管理系统手册AllocCPUS Account AssocIDAvePages AveRSS AveVMSizeCluster CPUTime CPUTimeRAWEligible End ExitCodeGroup JobID JobNameMaxPages MaxPagesNode MaxPagesTaskMaxRSSNode MaxRsSTask MaxVMSizeMaxVMSizeTask MinCPU MinCPUNodeNCPUS NNodes NodelistPriority Partition QOSReqCPUS Reserved ResvCPUStart State SubmitSystemCPU Timelimit TotalCPUUser UserCPU WCKey这些字段的描述请参见“作业记账字段”一节。-E, --endtime=endtimeAveCPUBlockIDElapsedGIDLayoutMaxRSSMaxVMSizeNodeMinCPUTaskNTasksQOSRAWResvCPURAWSuspendedUIDWCKeyID要显示的作业的开始时间不晚于指定时间。有效时间格式为: HH:MM[:SS][AM|PM]MMDD[YY],MM/DD[/YY],MM.DD[.YY],MM/DD[/YY]-HH:MM[:SS] 或YYYY-MM-DD[THH[:MM[:SS]]]-f, --file=file指示 yhacct 命仅在配置使用 accounting_storage/filetxt 插件时有效。-g, —-gid,Noe aN aE ZAR VELA. group_list Ais--group=group__list空格。缺省没有组限制。-h, --help显示帮助信息。-j，--jobs=7o0(.steD)六 (4B) 的信息。jobfstep) 参数为逗号能有空格。缺省为",
        "状态恢复时触发事件。。 --user=username|userid删除或查看指定用户的触发器。可以给出用户名字或用户 UID。e -v, --verbosea CES AS. PS a A Te aX, lo ee AEe -V, --version输出版本信息并退出。输出字段。 TRIG_ID: 触发器 ID.。 RES_TYPE: 与触发器相关联的资源《实体) 类型— job: 作业—node: 节点，包括系统配置触发器。 TYPE: 触发器事件类型- time: 作业运行时间限制— fini: 作业运行结束— down: 《作业所分配的) 节点变为 DOWN265\n资源管理系统手册— up:〈作业所分配的) 节点从 DOWN 状态恢复— fail: 〈作业所分配的) 节点变为 FAILING— drained: 节点变为 DRAINED— idle: 节点保持 IDLE—reconfig: 系统配置变化示例作业 1237 结束时执行/haome/joe/job_finiLy A命令:yhtrigger --set --jobid=1237 --fini --program=/home/joe/job_fini更多示例参见第 7.375266\n第十七章ARES267\n资源管理系统手册17.1 yhacctmgr名字yhacctmgr: 得看与修改帐号信息。ieyhacctmgr Loptions] [COMMAND]Idsyhacctmgr 用于查看和修改帐号信息。帐号信息保存在数据库中，通过 slurmdbd提供访问接口。该数据库可作为多个系统的用户、帐号与机器信息的集中存储。帐号信上基于四个参数记录: 用户，集群，分区，和帐号。这四个参数一起被称为 association 。用户即登录名字。集群是资源管理系统管理的 TH-1HN 的名字，由系统配置文件中的ClusterName 参数指定。分区是该系统上的一个分区的名字。帐号即作业的计费帐号。设计的使用模式是局动 yhacctmgz an, USI. MGR. (ECW REF association 记录，然后提交所作的改变并退出。选项。 -h, --help显示使用帮助信息。等同于 help 命令。e -i, --immediateEBM Fe 30 AVE AY ARe -n, --noheader在输出中不显示",
        "e -I, --idle当指定节点保持 IDLE 状态超过 --offset 选项所指定的时间时触发事件。可用于将保持空亲的节点休眠，从而节约能耗。。 -j，--jobid=id目标作业的 JobID。注意: --jobid 不能与 --node 选项同时使用。当 --jobid 与--up 或 --down、--fail 一起使用时，触发事件时考虑分配到作业的所有节点。e -n, --node[=host]Abs rks tea TL, AACS RIT 3 iE oP AC BIE EA A ek CUR 2S tH --jobid)或系统中的所有节点。注意: --node 不能与 --jobid 同时使用。e。 -o, --offset=seconds指定的动作将在事件发生此时间间隅以后执行。如果动作需要在事件之前执行，则需要指定一个负值。缺省偏移为0。时间的精度约为 20 秒，因此和若要在作业到达运行时间限制前 5 分钟执行一个脚本，请指定 --offset=320 (5 分钟加 20 秒)。。 -p, —--program=path事件发生时要执行的程序的完整路径。程序将以设置触发器的用户的号份运行。如RAR HELE 5 分钟内终止，则该程序及其派生的进程将会被杀死。264\n16.14. yhtriggere -Q, --quiet不报告非致命错误。在删除可能已经被清除的触发器时可能有用。e -r, —--reconfig当系统配置变化时触发事件。e 一一Sett基于提供的选项设置触发器。注意: 一个事件仅触发一次。要触发将来发生的相同类型事件，必须重新设置触发右。e -t, --time当指定作籽的运行时间限制到达时触发事件。必须与 --jobid 一起使用。e -u, --up当指定节点从 DOWN 状态恢复时触发事件。。 --user=username|userid删除或查看指定用户的触发器。可以给出用户名字或用户 UID。e -v, --verbosea CES AS. PS a A",
        "的时间戳，记录数目等。e versionANIA重复上一条命令。e account计费帐号，通常在提交作业时通过 --account 选项指定。帐号可以组织成层次结构，比如帐喜 chemistry 和 physics 是帐号 science 的子帐号。层次的深度没有限制。e association此实体用于聚集四个参数信息: WKS, Se, aK Cale) MAP.270\n17.1. yhacctmgre cluster系统配置文件中 ClusterName 参数的值，用于区分不同 TH-1HN AZ EMMKS。 configuration用于 list 或 show 命令，以但看系统当前配置。。 coordinator特殊的特权用户，一般是帐号管理员或类似的，可以向其所管理的帐号中添加用户或子帐号。应该是可被信任的用户，因为它可以修改帐号和用户 association 的资源限制| 。。 qos服务质量。。 transaction给定时间段内发生的事务。e usere wckeys负载特性词。用于分组的任意串，与帐号正交。基于 association 的实体的通用选项。 Fairshare=fairshare一个数字，用来与其他帐号一起确定作业优先级。若想清除以前设置的值，请使用modify 命令设置新值为 -1。。 GrpCPUMins=maz cpu minutes此 association KF association 的运行中的作业最多可以分配的合计 CPU 分钟数。知想清除以前设置的值，请使用 modify 命令设置新值为 -1。(注意: 当设置在一个集群的根 association 上时，此限制不被强制。所以，即便在 yhacctmer 的输出中出现，它也可能不被强制。)。 GrpCPUs=maz cpus此 association RLF association 的运行中的作业最多可以分配的合计 CPU M. &想清除以前设置的值，请使用 modify 命令设置新值为 -1。(注意: 此限制目前在资271\n资源管理系统手册源管理系统中没有被强制。可以设置此限制，但要等以后的版本才会强制实施此限制。)。 GrpJobs=maz jobs此 association KF association 的最多可以同时运行的合计作业数。知想清除以前设置的值，请使用 modify 命令设置新值为 -",
        "选项。 -h, --help显示使用帮助信息。等同于 help 命令。e -i, --immediateEBM Fe 30 AVE AY ARe -n, --noheader在输出中不显示头信息。e -o, --oneliner每个记录输出一行。等同于 oneliner 命令。。 -p, --parsable得出数据以“|”分隔，在末尾有“|”208\n=)少-P, --parsable2得出数据以“|”分隔，在未尾没有“|”-Q, --quiet不显示除错误消息之外的消息。等同于 quiet 命令。-r, --readonly不能修改帐号信息。等同于 readonly fit-S, --associations在执行 list 或 show 命令时显示与实体相关的 association. @Ly 人命令。-vV, --verbose打开详细日志。等同于 verbose 命令。-V, --version显示版本号。等同于 version 命令。add ENTITY specs添加实体。等同于 create 命令。associations在执行 list 或 show 命令时显示与实体相关的 association.create ENTITY specs添加实体。等同于 add 命令。delete ENTITY specs删除指定的实体。dump ENTITY File=filename将集群数据导出到指定文件。exit终止 yhacctmgr。等同于 quite 命令20917.1. yhacctmgr等同于 associations\n资源管理系统手册e help显示使用帮助信息。e list ENTITY [specs]显示指定实体的信息。缺省地，显示所有的项。可以通过 specs 缩小查询结果范围。等同于 show 命令。。 load filename从指定的文件载入集群数据。。 modify ENTITY specs set specs修改实体。e oneliner每个记录输出一行。。 quiet不输出错误之外的消息。。 _终止 yhacctmgr. “lal exit 命令。e show ENTITY [specs]显示指定实体的信息。等同于 list 命令。e verbose打开详细日过。包括数据结构的时间戳，记录数目等。e versionANIA重复上一条命令。e account计费帐号，通常在提交作业时通过 --account 选项指定。帐号可以组织成层次结构，比如帐喜 chemistry 和 physics",
        "强制实施此限制。)。 GrpJobs=maz jobs此 association KF association 的最多可以同时运行的合计作业数。知想清除以前设置的值，请使用 modify 命令设置新值为 -1。。 GrpNodes=maz nodes此 association 及其子 association 的运行中的作业最多可以分配的合计节点数。知想清除以前设置的值，请使用 modify 命令设置新值为 -1。。 GrpSubmitJobs=maz jobs此 association RLF association Wie FY CATES HEPA BGS {TINT PLA. ARE除以前设置的值，请使用 modify 命令设置新值为 -1。。 GrpWall=maz wall此 association RHF association HVIS4T (EM ae & A] WO) AC es PET TB]. a ER以前设置的值，请使用 modify 命令设置新值为 -1。(注意: 当设置在一个集群的根association 上时，此限制不被强制。所以，即便在 yhacctmgr 的输出中出现，它也可能不被强制。)e MaxCPUMins=mazx cpu minutes此帐号的每个作业最多可以使用的 CPU 分钟数。如果直接对用户设置，此设置将被覆盖。缺省是集群的限制。若想清除以前设置的值，请使用 modqify 命令设置新值为 -1。e MaxCPUs=maz cpusJEWS BI BEES VE Mb oe 2 FY DEY) CPU 2. WRAP EER OKiio DRA ESTE NER ll. AT RVAPRO HT AE, TEA modify 命令设置新值为-1。《〈注意: 此限制目前在资源管理系统中没有被强制。可以设置此限制，但要等以后的版本才会强制实施此限制。)。 MaxJobs=maz jobs此帐号的每个用户允许运行的最多作业数。如果直接对用户设置，此设置将被覆盖。缺省是集群的限制。奉想清除以前设置的值，请使用 modify 命令设置新值为 -1。e。 MaxNodes=max nodes272\n17.1. yhacctmgr此帐号的每个作业人允许使用的最多",
        "[OPTIONS]yhtrigger --get [OPTIONS]yhtrigger --clear [OPTIONS]Fadsyhtrigger HP RE. AAAs. FAR AE A A, PEM BAIS AT时间限制，作业终止等等。这些事件可以引发特定的动作，如执行任意指定的脚本。典型的应用包括将节点失效通知管理员，在接近运行时间限制时优雅地终止作业等。在执行时，节点列表表达式或作业 JobID 将作为动作程序的参数。触发恬事件不是被立即处理，而是通过周期性的检查发生的事件进行〈当前周期为15 秒)。在周期内发生的触发右事件将与设置的触发右相比较。如果周期内发生了相关事件，则触发器动作程序将被执行。然后，事件的记录《如，在前 15 秒钟内变成 DOWN 的TSA) 将被清除。触用器动作程序必须在下一个周期前设置一个新触发器，以避免丢失事件。如果需要，可以为一个事件设置多个触发器。除非 SlurmUser 设置为 Toot，否则只有 SlurmUser 用户能鳄设置甬发器。这是为了Slurmctld 控制进程能鳄为所执行的动作程序设置用户和组 [DD。也请注意，动作程序slurmctld 运行的管理节点上执行，而不是所分配的计算节点。要检查 SlurmUser syik置，执行如下命令:yhcontrol show config | grep SlurmUsere --clear删除触发器。必须给出 --id, --jobid 或 --userid 以指定要删除的触发器。e -d, --down263\n资源管理系统手册当指定节点变为 DOWN 状态时触发事件。e -D, --drained当指定节点变为 DRAINED 状态时和触发事件。e -F, --fail当指定节点变为 FAILING 状态时触发事件。e -f, --fini当指定作业结束运行时触发事件。。 --get查看触发器。可通过选项指定过滤条件。e -i, --id=idfith Aa ID。e -I, --idle当指定节点保持 IDLE 状态超过 --offset 选项所指定的时间时触发事件。可用于将保持空亲的节点休眠，从而节约能耗。。 -j，--jobid",
        "资源管理系统手册16.1 yhacct名字yhacct: 答看系统记账日志或记账数据库中的作业与作业步的记账数据ieyhacct [options]Fads资源管理系统中作业的记账信息被保存在作业记账日志文件或数据库中。yhacct 可以以各种形式显示日志文件或数据库中的作业记账数据，以进行分机。缺省地，yhacct 命令显示作业，作业步,作业状态和退出代码的信息。可以使用 --format=选项指定要显示的字段。对于 root 用户，yhacct 命令显示所有用户的作业记账数据，不过也可以使用过滤选项仅显示特定用户或特定组的作业信息。对于非 root 用户，yhacct 命令仅显示由其 UID 提交的作业的信息。其他用户的数据可通过 --all, --user 或 --uid 选项显示。个 yhacct 显示的很多数据是由 wait3() 和 getrusage() 系统调用收集的。在某些系统上这些系统调用收集的信息不完整; 这些缺失的数据 yhacct 将显示为 0。关于具体哪些信息可用，请参见系统上 getrusage(3) 的手册。如果指定了 -=-dump，则字段选择选项 (--brief, --format) 无效。elapsed 使用两个字段显示，秒数和微秒数。如果没有指定 --dump,则 elapsed ANA [[days-]hours:|minutes: seconds. hundredths.缺省的输入文件是系统配置文件中 JobAcctLogFile BA.e -a, --allusers显示当前用户的作业。当以 root 运行时显示所有用户的作业。e -A, --accounts=account_ listANTHEMS WIEN.140\n16.1. yhaccte -b, --brief显示简短列表，包合如下数据:一 jobid— status— exitcode在指定了 --dump 时此选项无效。e -C, --cluster=cluster list仅显示指定的集群上的作业的信息，cluster_1ist 为逗号分隔的集群名字列表，其中不能有空格。-1 表示所有集群。缺省为执行 yhacct 命令所在的集群。e -C，--cCompletion显示作业完成记录，而不是作业记账数据。。 -d, --"
    ]
}