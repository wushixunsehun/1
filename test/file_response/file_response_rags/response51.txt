{
    "query": "请简述yhrun命令用于指定作业分区的主要选项。",
    "summaries": [
        "本文档介绍了yhrun命令的多个选项及其功能，用于控制作业在资源管理系统中的执行。主要功能包括：设置用户访问权限、版本信息显示、任务等待时间、节点列表指定、wckey设置、状态禁止、节点排除、工作目录设置、进程和CPU分配控制、I/O重定向等。这些选项帮助用户灵活管理作业的资源分配和运行行为，确保作业按预期执行。",
        "yhrun 是用于在资源管理系统中提交和运行作业的命令。它支持多种选项，如设置输出模式（附加或截断）、作业依赖关系、分区分配、资源限制传递、伪终端运行、时间限制等。用户可通过参数控制作业的执行行为，例如指定依赖条件、共享节点、线程数、临时磁盘空间等。部分选项可修改作业的运行环境和资源使用方式，以适应不同需求。该命令还支持作业的检查点恢复和任务前后处理程序的执行。",
        "yhrun 是用于在资源管理系统中启动作业的命令。它支持多种选项，如指定资源立即可用（--immediate）、输入重定向（--input）、作业名称（--job-name）、作业ID（--jobid）、任务异常终止（--kill-on-bad-exit）等。还支持任务分布方式（--distribution）、邮件通知（--mail-type、--mail-user）、内存分配（--mem、--mem-per-cpu）以及内存绑定（--mem_bind）等功能。这些选项帮助用户更灵活地控制作业的执行和资源使用。"
    ],
    "contents": [
        "到所有远程任务。(缺省行为)e none不从任何任务接收标准输出/错误。标准输入不发送到任何任务〈stdin 被关闭)。e taskid标准输出/错误仅从相对 ID 等于 taskid WES Bese [a], FE 0<=taskid<ntasks,ntasks 为当前作业步中的总任务数。标准输入从 yhrun 重定癌到相同的任务。。 filenameyhrun 将从所有任务重定同标准输出/错误到指定的文件。标准输入将从指定文件广播到作业步中的所有任务。jename 指向 yhrun 运行的主机上的路径。依系统文件系统的布局，这可能导致在交互模式和批处理模式运行时，输出文件出现在不同地方。。 format stringyhrun 5¢ 47 (FA RR CU AE ERY T/O 文件。可以使用如下所列出的格式描述符，以生成对给定作业，作业步，节点或任务唯一的文件名。在各种情况下，都将打开244\n16.11. yhrunAiG Rt ASCE, FFAS FAA ES SK. HER, HET GKt, dn 以及和 的格式串SR 1/O 文件在执行任务的节点上打开，而不是 yhrun 运行的节点。— 45: 所运行作业步的 jobid.stepid 〈例如“128.0”)。— hj: 所运行作业步的 jobid.—%s: 所运行作业步的 stepid.— YN: 短主机名。将为每个节点创建一个 I/O 文件。— 知: 相对于本作业步的节点标识号〈如，作业步中的第一个节点为“0。将为每个节点创建一个 I/O 文件。— %t: 相对于本作业步的任务号 (rank)。将为每个任务创建一个 I/O 文件。可在百分号和格式符之间指定一个数，以在结果 I/O 文件名中用 0 填充。如宁格式串是非数值数据《〈如各) 此数将被名略。一个 jobid W 128, stepid 为 0 的4 任务作业步的格式串示例如下:jobAnJ.out job128.0.outjob/",
        "满足，yhrun 将阻塞等待，直到资源可用以运行作业。如果指定了 --immediate 选项，则 yhrun 将在资源不是立即可用时终止。当局动远程任务时，yhzrun 将传递当前工作目录，除非指定了 --chdir=path, ABHpath 将成为远程进程的工作目录。243\n资源管理系统手册-n, -c 和 -N 控制如何分配节点和 CPU 给作业。当仅用 -n 指定要运行的进程数目时，默认地分配每个进程一个 CPU。通过 -c 指定每任务的 CPU 数目，可以为每个任务分配多个 CPU。如果通过 -N 指定了节点数目，yhrun 将尝试至少分配指定数目的节点。上述三个选项的组合可用于改变如何在节点和 CPU 上分布进程。例如，通过指定进程数目和节点数目，则隐含了每个节点上的进程数。然而，如果每个进程的 CPU 数目更重要，则应指定进程数目和每进程的 CPU 数。yhrun 拒绝为一个处理器分配多个进程，除非指定了 --overcommit 选项。yhrun 将尝试在“最小意义”上满足上述约束。亦即，如果为 32 个进程请求了 16 个节点，并且有些节点只有 1 个 CPU，则分配的节点数目将会增加，以满足 CPU 的需求。换名话说，请求的是至少 16 个节点。然而，如果为 15 个进程请求 16 个节点，yhrun 会认为是一个错误，因为 15 个进程不能在 16 个节点上运行。I/O 重定向缺省地，标准输出和标准错误从所有任务重定向到 yhrun 的标准输出和标准错误，标准输入从 yhrun 的标准输入重定向到所有远程任务。这种行为可以通过 --output，--error 和 --input 选项改变。这些选项的有效参数格式为:e all标准输出/错误从所有任务重定向到 yhrun。标准输入广播到所有远程任务。(缺省行为)e none不从任何任务接收标准输出/错误。标准输入不发送到任何任务〈stdin 被关闭)。e taskid标准输出/错误仅从相对 ID 等于",
        "FSIZE: 所创建文件的大小240\n16.11. yhrun— MEMLOCK: 锁定内存的大小— NOFILE: 打开文件数目— NPROC: 可用进程数目— RSS: 最大物理内存— STACK: 栈大小-Pty在伪终端中运行 0 号任务。隐何设置 -unbuffered。隐合将除 0 号任务之外的标准输出和标准错误重定问到/dev/null。-Q, --quiet不要输出一般信息。错误信息仍将显示。-q，--dquit-on-interrupt在单次 SIGINT (Ctrl-C) 时立即退出。此选项将禁用通常的状态显示特性, 即 yhrun接受到单次 Ctrl-C 时显示任务状态，而是导致立即终止运行的作业。--qos=qos作业的服务质量。QOS 可以在记账数据库中为每个用户/系统/帐号 association 定义。当系统配置参数 AccountingStorageEnforce 包含“qos”时，用户将仅能使用为其 association 定义的 QOS。-r, --relative=n7E 4A UR a BC PA on 运行作业步。此选项可用于在当前作业中分布多个作业步。如果使用了 -r，当前作业步将从节点列表中的节点即开始，其中第一个节点ATO. -r 选项不能与 -w Fl -x 一起使用，并且如果 yhrun 不是在已有的资源分配中运行时 CB SLURM_ JOB ID 没有设置)，此选项将被忽略。z7 的缺省值为0。—-resv-ports为此作业预留通信端口。用于 OpenMPI.—-reservation=name从指定的预约中为作业分配资源。--restart-dir=directory指定作业或作业步的检查点文件路径。241\n资源管理系统手册e -s, --Share作业可以与其它运行作业共享节点。这可以导致更时分配资源，以及更高的系统利用率，但是由于竞争节点内的资源，应用的性能可能会下降。缺省的共享/互斥行为与系统配置相关。e -T, --threads=nthreads请求 yhrun 使用 nthreads 个线程司动和控制并行作业。缺省值是 60 和所分配节点数中的较小值。仅应用于在很小内存的机器上设置",
        "open-mode=append|truncate使用附加模式或截断模式打开标准输出和标准错误文件。缺省值由系统配置文件中的 JobFileAppend 参数指定。239\n资源管理系统手册e -P, --denpendency=dependency_list延迟运行作业，直到指定的依赖关系被满足。dependency_1ist 形如 type:jobid|:jobid|[,妃pe:jopid[:7obidlj。多个作业可以共享使用相同的依赖和关系，这些作业也可以属于不同的用户。作业提交后可以通过 yhcontrol 命令修改依赖关系。一 after: jobid|:jobid...]此作业可在指定的作业开始执行后运行。一 afterany: jobid|:jobid...]此作业可在指定的作业终止后运行。一 afternotok: jobid|:jobid...]此作业可在指定的作业失败〈非 0 退出码，节点失效，超时等) 后运行。一 afternotok: jobid|:jobid...]此作业可在指定的作业成功〈运行结束，退出码为 0) 后运行。— singleton此作业在之前运行的具有相同名字和用户的作业终止后运行。e。 -p, --partition=partition name在指定分区中分配资源。如未指定，则由控制进程在系统默认分区中分配资源。。 -—-prolog=programyhrun 将在加载作业步之前运行 program. program 的参数将是作业步的命令和参数。如果 program 为“none”，则不运行任何 prolog。此参数敌辣系统配置文件中的STUDProlog 人参数。。 --propagate|[=rlimits|将那些可修改〈软) 资源限制传递到计算节点并应用到作业任务进程。如未指定riizits，则传递所有资源限制。资源管理系统支持如下资源名字《〈尽管有些系统不文持某些选项):— ALL: 所有资源限制— AS: 进程的最大地址空间— CORE: core 文件大小— CPU: 最多 CPU 时间— DATA: 进程的数据段大小— FSIZE: 所创建文件的大小240\n16.11. yhrun— MEMLOCK: 锁定内存的大小— NOFILE: 打开文件数目— NPROC: 可用进程数目— RSS: 最大物理内存—",
        "e -T, --threads=nthreads请求 yhrun 使用 nthreads 个线程司动和控制并行作业。缺省值是 60 和所分配节点数中的较小值。仅应用于在很小内存的机器上设置较低的线程数目。e -t, --time=time作籽运行的总时间限制。如采请求的时间限制超过分区的时间限制，作业将保持在排队状态。缺省的作业运行时间限制是分区的时间限制。当到达运行时间限制时，作业的所有作业步的所有任务都将被发送 SIGTERM 和 SIGKILL 信和号。两个信号之间的时间间隔有系统配置参数 KillWait 指定。时间限制设置为 0 表示没有时间限制。可用的时间格式包括“7pzpautes” “minutes:seconds”, “hours:minutes:seconds”,“days-hours”, “days-hours:minutes”, VU “ days-hours:minutes:seconds”。 -—-task-epilog=programslurmstepd 将在每个任务结束后执行 progrum这将在系统配置文件中的 TaskEpilog参数指定的程序运行之前执行。progroam 应该是运行时间很短的程序。如采没能够在几秒中内终止，它及其后代进程将被杀和死。。 -—-task-prolog=programslurmstepd 将在加载每个任务前执行 program。这就爱咽在系统配置文件中的 TaskProlog 参数指定的程序运行之后执行。除了普通的环境变量，还会设置 SLURM_TASK_PID 以标识要局动的进程的 PID。此程序的形如“exportNAME=value”的标准输出将用于设置要派生的任务的环境变量。e --tmp=VMB最少临时磁盘空间。e -u, --unbuffered不要对远程任务的标准输出进行行缓冲。此选项不能与 --label 一起使用。。 --usage显式简短帮助信息并退出。242\n16.11. yhrune --uid=user以用户 user 的身份提交和运行作业, 而不是执行 yhrun 的用户。执行 yhrun 的用户呈份将用于检奏目标分区的访问权限。例如，root 用户可以使用此选项在 RootOnly分区中以普通用户身份运行作业。uwser 可以是用户名或数值用户 UID。e -V, --version显示",
        "用户呈份将用于检奏目标分区的访问权限。例如，root 用户可以使用此选项在 RootOnly分区中以普通用户身份运行作业。uwser 可以是用户名或数值用户 UID。e -V, --version显示版本信息并退出。e -v, --verbose增加 yhrun MTC S I. TRS AS -v。缺省情况下仅显示错误信息。e -W, --wait=seconds指定在第一个任务退出后终止所有其余任务之前等竺的时间。设置为 0 表示无限等fF CE 60 秒后给出警告信息)。人缺省值由系统配置文件中的 WaitTime 参数设置。此选项可用于确保作业在一个或多个任务提前退出时能够及时终止。e -w, --nodelist=node name list请求指定的节点名字列表。作业分配资源中将至少包含这些节点。列表可以用过号分隔的节点名或节点范围《如 cnl1-5,7,…]) 指定，或者用文件名指定。如果参数中包含“/”字符，则会被当作文件名。如果指定了最大节点数如 -N 1-2，但是文件中有多余 2 个节点，则请求列表中只使用前 2 个节点。e --wckey=wckey作业使用的 wekey. AACE CPE TrackWCKey=no (ik), UCT KAR II.e -X, --disable-status禁止 yhrun 在收到单次 SIGINT (Ctrl-C) 时显示任务状态，而是将 SIGINT 立即传递到运行的作业。未使用此选项时，需要一秒钟内两次 Ctrl-C 才能强行终止作业并使 yhrun 退出。也可通过 SLURM DISABLE STATUS 环境变量设置。e -x, --exclude=node name list不要将指定的节点分配给作业。如果包含“/”字符，参数将被当作文件名。yhrun 将把作业请求提交到控制进程，然后在远程节点上局动所有进程。如果资源请求不能立即被满足，yhrun 将阻塞等待，直到资源可用以运行作业。如果指定了 --immediate 选项，则 yhrun 将在资源不是立即可用时终止。当局动远程任务时，yhzrun 将传递当前工作目录，",
        "资源必须立即可用。缺省地，--immnediate 关闭，yhrun 将阻塞等竺知道资源可用。e -i, --input=mode指定标准输入的重定向模式。缺省地，yhrun 把标准输入从终端重定向到所有任务。参加“TI/O 重定向”一节。。 -J, --job-name=jobname为作业指定名字。当查看系统中的作业时，名字将和作业 JobID 一起显示。缺省的作业名字是可执行程序 executable.e --jobid=jobid在已分配资源的作业 jobid 中局动作业步。使用此选项的 yhrun 行为与设置了环境变量 SLURM JOB ID 时的行为完全相同。e -K, --kill-on-bad-exit如果有任务以非 0 代码退出，则终止作业。e -k, --no-kill当分配给作业的节点失效时不要自动终止作业。此选项仅在分配作业资源时识别，在启动单个作业步时无效果。作业需要承担容错的责任。当发生节点失效时，运行在该节点上的活动作业步〈通常为 MPI 作业) 几乎肯定会发生致命错误; 但是使用此选项时，后续的作业步可以继续运行。缺省的行为是在节点失效时终止作业。e -L, --license=license指定要分配给作业的许可证〈或其他在系统所有节点上都可用的资源)。许可证名字可以后跟星号和数目〈缺省数目为 1)。多个许可证名字应用有喜号分隔，如“--license=foo*4, bar”.234\n16.11. yhrune -l, --labelTE ee a HH / PEA RAYS IIMES S. IER TOUR, CREE AY be a He A HEDMT Ba 7 cA Bea HH BI) yhrun 的标准输出和标准错误。--label 选项将导致在输出前添加远程任务 ID 。。 -m, --distribution=<block|cyclic|arbitrary|plane=options>指定远程任务的分布方式。— block“block” CR) 分布方法将按节点上的 CPU 的顺序分配进程。如果进程数目超过所分配的节点",
        "此选项通常在将整个节点分配到作业的情况下使用〈S$electType=select/linear)。人参见--mem-per-cpu。--mem 和 --mem-per-cpu 是互斥的。e --mem-per-cpu=VBb对分配的每个 CPU 所需要的物理内存 MB 数。缺省值是 DefMemPerCPU，最大值是MaxMemPerCPU。 如果进行了配置, 这两个参数可以通过 yhcontrol show config 命令得看。此选项通常在将每个处理器分配到作业的情况下使用〈SelectType=select/cons res). J, --mem. --mem 和 --mem-per-cpu 是互斥的。。 --mem_bind=[{quiet,verbose},]|type绑定任务到内存。仅在使用 task/affinity diff A NUMA 内存函数可用时才使用。注意: 在某些体系结构上 CPU 和内存的绑定分辨率不同。例如，CPTU 绑定在处理恬内的核的级别上进行，但是内存绑定在节点级别上进行，而在系统与系统之间“节点”的定义可能不同。不推荐使用“none”和“1ocal”之外的绑定类型。如果需要更多控制，请使用 “--cpu_bind=verbose,none --mem bind=Vverbose ,none” 选项尝试运行一段测试代码，以确定特定的配置。注意，若要资源管理系统总是报告在 SHELL 中执行的所有命令的 CPU 绑定情况，可以通过设置环境变量 SLURM MEM BIND 值为“verbose”来打开详细模式。当使用 --mem_bind 选项时，下列环境变量将被设置:— SLURM_MEM BIND_VERBOSE— SLURM_MEM BIND TYPE— SLURM_MEM BIND LIST每个 SLURM_MEM_BIND* 环境变量的详细描述请参见“环境变量”一节所文持的选项值包括:— qluiet]在任务运行前安静地绑定〈缺省行为)一VLerbosej在任务运行前包括绑定情况一 no [nej]不要把任务绑定到内存《〈缺省行为)236\n16.11. yhrun— rank按任务号绑定〈不推荐使用)— local使用处理器的局部内存一 map_mem: list按照给出",
        "block|cyclic|arbitrary|plane=options>指定远程任务的分布方式。— block“block” CR) 分布方法将按节点上的 CPU 的顺序分配进程。如果进程数目超过所分配的节点数目，则将使用所有的节点。例如，考虑分配了三个节点，个节点有两个 CPU。一个四进程的作业步任务分布请求将导致进程0和1在第一个节点上，进程 2 在第二个节点上，进程 3 在第三个节点上。块分布在任务数超过节点数的情况下是缺省行为。— cyclic“cyclic” NAA) AA ATE FERT OD ACT ak ECR 7 A ERE. DAN, ERE0 将运行在第一个节点上，进程 1 运行在第二个节点上，等等。如果任务数不超过布点数目，这将是缺省行为。— plane任务在指定大小的块中分布。选项 options 中包括任务块大小的参数，其后跟一个可选的规范，指定在任务世中和任务块间的分布模式。详细内容请参见第5.1.6节。— arbitrary“arbitrary〈任意)”分布是指根据环境变量 ~SLURM_HOSTFILE 指定的文件里的顺序分布进程。如果给出了此环境变量，则将禾盖其它指定的分布方法。如果未给出，则缺省为块分布。。 -—-mail-type=type当发生特定事件时通过邮件通知用户。有效的 如pe 值包括 BEGIN 〈作业开始执行)，END(〈作业结束),，FAIL (VELA), ALL (所有状态变化)。要通知的用户由 --mail-user 指定。。 --mail-user=user接收邮件通知的用户。缺省为提交作业的用户。e --mem=V/B5235\n资源管理系统手册每个节点上需要的物理内存 MB 数。缺省值是 DefMemPerNode ,最大值是 MaxMemPerNode。如果进行了配置，这两个参数可以通过 yhcontrol show config 命令查看。此选项通常在将整个节点分配到作业的情况下使用〈S$electType=select/linear)。人参见--mem-per-cpu。--mem 和 --mem-per-cpu 是互斥的。e"
    ]
}