{
    "query": "如果希望作业最迟从现在开始运行5分钟内获得资源，否则放弃，应该如何设置？",
    "summaries": [
        "yhrun 是用于在资源管理系统中提交和运行作业的命令。它支持多种选项，如设置输出模式（附加或截断）、作业依赖关系、分区分配、资源限制传递、伪终端运行、时间限制等。用户可通过参数控制作业的执行行为，例如指定依赖条件、共享节点、线程数、临时磁盘空间等。部分选项可修改作业的运行环境和资源使用方式，以适应不同需求。该命令还支持作业的检查点恢复和任务前后处理程序的执行。",
        "本文档介绍了yhrun命令的多个选项及其功能，用于控制作业在资源管理系统中的执行。主要功能包括：设置用户访问权限、版本信息显示、任务等待时间、节点列表指定、wckey设置、状态禁止、节点排除、工作目录设置、进程和CPU分配控制、I/O重定向等。这些选项帮助用户灵活管理作业的资源分配和运行行为，确保作业按预期执行。",
        "本文档介绍了yhalloc命令的多个选项，用于控制作业在资源管理系统中的执行和资源分配。主要功能包括：设置任务与CPU、socket、core或thread的绑定方式，指定每个任务所需的CPU数量，切换工作目录，独占节点，从文件获取节点列表，获取用户环境变量，设置作业名称，处理资源回收信号等。这些选项帮助用户更精细地控制作业的资源使用和执行行为，以优化性能和资源利用率。"
    ],
    "contents": [
        "到所有远程任务。(缺省行为)e none不从任何任务接收标准输出/错误。标准输入不发送到任何任务〈stdin 被关闭)。e taskid标准输出/错误仅从相对 ID 等于 taskid WES Bese [a], FE 0<=taskid<ntasks,ntasks 为当前作业步中的总任务数。标准输入从 yhrun 重定癌到相同的任务。。 filenameyhrun 将从所有任务重定同标准输出/错误到指定的文件。标准输入将从指定文件广播到作业步中的所有任务。jename 指向 yhrun 运行的主机上的路径。依系统文件系统的布局，这可能导致在交互模式和批处理模式运行时，输出文件出现在不同地方。。 format stringyhrun 5¢ 47 (FA RR CU AE ERY T/O 文件。可以使用如下所列出的格式描述符，以生成对给定作业，作业步，节点或任务唯一的文件名。在各种情况下，都将打开244\n16.11. yhrunAiG Rt ASCE, FFAS FAA ES SK. HER, HET GKt, dn 以及和 的格式串SR 1/O 文件在执行任务的节点上打开，而不是 yhrun 运行的节点。— 45: 所运行作业步的 jobid.stepid 〈例如“128.0”)。— hj: 所运行作业步的 jobid.—%s: 所运行作业步的 stepid.— YN: 短主机名。将为每个节点创建一个 I/O 文件。— 知: 相对于本作业步的节点标识号〈如，作业步中的第一个节点为“0。将为每个节点创建一个 I/O 文件。— %t: 相对于本作业步的任务号 (rank)。将为每个任务创建一个 I/O 文件。可在百分号和格式符之间指定一个数，以在结果 I/O 文件名中用 0 填充。如宁格式串是非数值数据《〈如各) 此数将被名略。一个 jobid W 128, stepid 为 0 的4 任务作业步的格式串示例如下:jobAnJ.out job128.0.outjob/",
        "满足，yhrun 将阻塞等待，直到资源可用以运行作业。如果指定了 --immediate 选项，则 yhrun 将在资源不是立即可用时终止。当局动远程任务时，yhzrun 将传递当前工作目录，除非指定了 --chdir=path, ABHpath 将成为远程进程的工作目录。243\n资源管理系统手册-n, -c 和 -N 控制如何分配节点和 CPU 给作业。当仅用 -n 指定要运行的进程数目时，默认地分配每个进程一个 CPU。通过 -c 指定每任务的 CPU 数目，可以为每个任务分配多个 CPU。如果通过 -N 指定了节点数目，yhrun 将尝试至少分配指定数目的节点。上述三个选项的组合可用于改变如何在节点和 CPU 上分布进程。例如，通过指定进程数目和节点数目，则隐含了每个节点上的进程数。然而，如果每个进程的 CPU 数目更重要，则应指定进程数目和每进程的 CPU 数。yhrun 拒绝为一个处理器分配多个进程，除非指定了 --overcommit 选项。yhrun 将尝试在“最小意义”上满足上述约束。亦即，如果为 32 个进程请求了 16 个节点，并且有些节点只有 1 个 CPU，则分配的节点数目将会增加，以满足 CPU 的需求。换名话说，请求的是至少 16 个节点。然而，如果为 15 个进程请求 16 个节点，yhrun 会认为是一个错误，因为 15 个进程不能在 16 个节点上运行。I/O 重定向缺省地，标准输出和标准错误从所有任务重定向到 yhrun 的标准输出和标准错误，标准输入从 yhrun 的标准输入重定向到所有远程任务。这种行为可以通过 --output，--error 和 --input 选项改变。这些选项的有效参数格式为:e all标准输出/错误从所有任务重定向到 yhrun。标准输入广播到所有远程任务。(缺省行为)e none不从任何任务接收标准输出/错误。标准输入不发送到任何任务〈stdin 被关闭)。e taskid标准输出/错误仅从相对 ID 等于",
        "FSIZE: 所创建文件的大小240\n16.11. yhrun— MEMLOCK: 锁定内存的大小— NOFILE: 打开文件数目— NPROC: 可用进程数目— RSS: 最大物理内存— STACK: 栈大小-Pty在伪终端中运行 0 号任务。隐何设置 -unbuffered。隐合将除 0 号任务之外的标准输出和标准错误重定问到/dev/null。-Q, --quiet不要输出一般信息。错误信息仍将显示。-q，--dquit-on-interrupt在单次 SIGINT (Ctrl-C) 时立即退出。此选项将禁用通常的状态显示特性, 即 yhrun接受到单次 Ctrl-C 时显示任务状态，而是导致立即终止运行的作业。--qos=qos作业的服务质量。QOS 可以在记账数据库中为每个用户/系统/帐号 association 定义。当系统配置参数 AccountingStorageEnforce 包含“qos”时，用户将仅能使用为其 association 定义的 QOS。-r, --relative=n7E 4A UR a BC PA on 运行作业步。此选项可用于在当前作业中分布多个作业步。如果使用了 -r，当前作业步将从节点列表中的节点即开始，其中第一个节点ATO. -r 选项不能与 -w Fl -x 一起使用，并且如果 yhrun 不是在已有的资源分配中运行时 CB SLURM_ JOB ID 没有设置)，此选项将被忽略。z7 的缺省值为0。—-resv-ports为此作业预留通信端口。用于 OpenMPI.—-reservation=name从指定的预约中为作业分配资源。--restart-dir=directory指定作业或作业步的检查点文件路径。241\n资源管理系统手册e -s, --Share作业可以与其它运行作业共享节点。这可以导致更时分配资源，以及更高的系统利用率，但是由于竞争节点内的资源，应用的性能可能会下降。缺省的共享/互斥行为与系统配置相关。e -T, --threads=nthreads请求 yhrun 使用 nthreads 个线程司动和控制并行作业。缺省值是 60 和所分配节点数中的较小值。仅应用于在很小内存的机器上设置",
        "地请求 12 个处理器，则控制进程可能仅分配给 3 个节点。然而，通过使用 --cpus-per-task=3 选项，控制进程将知道每个任务需要同一节点上的 3 个处理器，并为 4 个任务分配 4 个节点。e -D, --chdir=path在执行命令之前将目录切换到 pathoe --exclusive此作业不能与其他运行的作业共享节点。此选项是 --share 的反义，哪个出现在命令行的最后哪个起作用。(缺省的 share/exclusive 行为与系统配置相关。)。 -F, --nodefile=node file159\n资源管理系统手册类似与 --nodelist，但是节点列表包含在文件 node file 中。列表中的文件名可以路多行。文件中的重复节点名将被忽略。列表中的节氮顺序不重要，节氮列表将科资源管理系统重新排序。。 --get-user-env|=timeout]|mode|此选项用于使 yhalloc 获取 --uid 所指定的用户的登录环境变量。环境变量通过运行“su - username -c /usr/bin/env”并分析输出的方法获取。请注症，yhalloc执行时的环境变量将比如此获取的环境变量更优先。如果不想被传递到加载的程序，请在运行 yhalloc 前清除相应的环境变量。可选的 timeout 值是秒数，缺省为 8秒。可选的 mode 值控制“su”的运行选项。mode 置为“S”时,“su”执行时没有“-”选项; mode 值为“L”时,“su”执行时有“-”选项，以复制登录环境。如果未指定 mode，则使用资源管理系统编译时的内置值。应用示例包括“--get-user-》” Kfs下二 o6 6env”, “--get-user-env=10”, “--get-user-env=10L”, “--get-user-env=S注意: 此选项仅在执行 yhalloc 的有效用户 UID W root NAR.。 -—-gid=group如果以 root 运行 yhalloc，且使用了 --gid 选项，则以 group 的",
        "仅在执行 yhalloc 的有效用户 UID W root NAR.。 -—-gid=group如果以 root 运行 yhalloc，且使用了 --gid 选项，则以 group 的组访问权限提交YENL. group 可以是组名字或数字的组 GID.。 -h, --help显示帮助信息并退出。。 —-hint=type根据应用提示进行任务绑定:一 compute_bound选择适合计算密集型应用的设置: 使用每个 socket 上的每个 core。一 memory_bound选择适合内存密集型应用的设置: 仅使用每个 socket 上的一个 core.— [no]multithreadLA | 使用 core 上额外的 thread，这可能对通信密集型应用有益。— help显示帮助信息。。 -I, --immediate|=seconds|如果资源在指定的时间内不能被满足则退出。如果没有指定秒数，则资源必须立即可用。缺省地，yhalloc 将阻喜等竺直到资源可用。160\n16.2. yhalloc-J, --job-name=jobname为作业指定名字。当和查看系统中的作业时，名字将和作业 JobID 一起显示。缺省的名字命令行指定的“commza7zd”。--jobid=jobid使用指定的 JobID 分配资源。注意: 仅对 root HR AR.-K, --kill-command|=siganl|yhalloc 在获取资源后总是运行用户指定的命令，并无穷等待直到该命令退出。如末指定了 --kill-command 选项，当资源管理控制进程通知 yhalloc 作业分配已被收回时，yhalloc 将向用户命令发送指定的信号。作业分配可能因几个原因被回收:有人使用 yhcancel 命令取消了作业，或作业到达运行时间限制等。如果没有指定aA MBE, Wika A SIGTERM.-k, --no-kill当分配给作业的节点失效时不要自动终止作业。用户需要自己在节点失效时进行容错。当发生节点失效时，运行在该节点上的活动作业步〈通各为 MPI 作业) 几乎肯定会发生致命错误;但是使用 --no-kill 时，分配给作业的节点不会被回收，从而用户可以在剩余的",
        "open-mode=append|truncate使用附加模式或截断模式打开标准输出和标准错误文件。缺省值由系统配置文件中的 JobFileAppend 参数指定。239\n资源管理系统手册e -P, --denpendency=dependency_list延迟运行作业，直到指定的依赖关系被满足。dependency_1ist 形如 type:jobid|:jobid|[,妃pe:jopid[:7obidlj。多个作业可以共享使用相同的依赖和关系，这些作业也可以属于不同的用户。作业提交后可以通过 yhcontrol 命令修改依赖关系。一 after: jobid|:jobid...]此作业可在指定的作业开始执行后运行。一 afterany: jobid|:jobid...]此作业可在指定的作业终止后运行。一 afternotok: jobid|:jobid...]此作业可在指定的作业失败〈非 0 退出码，节点失效，超时等) 后运行。一 afternotok: jobid|:jobid...]此作业可在指定的作业成功〈运行结束，退出码为 0) 后运行。— singleton此作业在之前运行的具有相同名字和用户的作业终止后运行。e。 -p, --partition=partition name在指定分区中分配资源。如未指定，则由控制进程在系统默认分区中分配资源。。 -—-prolog=programyhrun 将在加载作业步之前运行 program. program 的参数将是作业步的命令和参数。如果 program 为“none”，则不运行任何 prolog。此参数敌辣系统配置文件中的STUDProlog 人参数。。 --propagate|[=rlimits|将那些可修改〈软) 资源限制传递到计算节点并应用到作业任务进程。如未指定riizits，则传递所有资源限制。资源管理系统支持如下资源名字《〈尽管有些系统不文持某些选项):— ALL: 所有资源限制— AS: 进程的最大地址空间— CORE: core 文件大小— CPU: 最多 CPU 时间— DATA: 进程的数据段大小— FSIZE: 所创建文件的大小240\n16.11. yhrun— MEMLOCK: 锁定内存的大小— NOFILE: 打开文件数目— NPROC: 可用进程数目— RSS: 最大物理内存—",
        "e -T, --threads=nthreads请求 yhrun 使用 nthreads 个线程司动和控制并行作业。缺省值是 60 和所分配节点数中的较小值。仅应用于在很小内存的机器上设置较低的线程数目。e -t, --time=time作籽运行的总时间限制。如采请求的时间限制超过分区的时间限制，作业将保持在排队状态。缺省的作业运行时间限制是分区的时间限制。当到达运行时间限制时，作业的所有作业步的所有任务都将被发送 SIGTERM 和 SIGKILL 信和号。两个信号之间的时间间隔有系统配置参数 KillWait 指定。时间限制设置为 0 表示没有时间限制。可用的时间格式包括“7pzpautes” “minutes:seconds”, “hours:minutes:seconds”,“days-hours”, “days-hours:minutes”, VU “ days-hours:minutes:seconds”。 -—-task-epilog=programslurmstepd 将在每个任务结束后执行 progrum这将在系统配置文件中的 TaskEpilog参数指定的程序运行之前执行。progroam 应该是运行时间很短的程序。如采没能够在几秒中内终止，它及其后代进程将被杀和死。。 -—-task-prolog=programslurmstepd 将在加载每个任务前执行 program。这就爱咽在系统配置文件中的 TaskProlog 参数指定的程序运行之后执行。除了普通的环境变量，还会设置 SLURM_TASK_PID 以标识要局动的进程的 PID。此程序的形如“exportNAME=value”的标准输出将用于设置要派生的任务的环境变量。e --tmp=VMB最少临时磁盘空间。e -u, --unbuffered不要对远程任务的标准输出进行行缓冲。此选项不能与 --label 一起使用。。 --usage显式简短帮助信息并退出。242\n16.11. yhrune --uid=user以用户 user 的身份提交和运行作业, 而不是执行 yhrun 的用户。执行 yhrun 的用户呈份将用于检奏目标分区的访问权限。例如，root 用户可以使用此选项在 RootOnly分区中以普通用户身份运行作业。uwser 可以是用户名或数值用户 UID。e -V, --version显示",
        "用户呈份将用于检奏目标分区的访问权限。例如，root 用户可以使用此选项在 RootOnly分区中以普通用户身份运行作业。uwser 可以是用户名或数值用户 UID。e -V, --version显示版本信息并退出。e -v, --verbose增加 yhrun MTC S I. TRS AS -v。缺省情况下仅显示错误信息。e -W, --wait=seconds指定在第一个任务退出后终止所有其余任务之前等竺的时间。设置为 0 表示无限等fF CE 60 秒后给出警告信息)。人缺省值由系统配置文件中的 WaitTime 参数设置。此选项可用于确保作业在一个或多个任务提前退出时能够及时终止。e -w, --nodelist=node name list请求指定的节点名字列表。作业分配资源中将至少包含这些节点。列表可以用过号分隔的节点名或节点范围《如 cnl1-5,7,…]) 指定，或者用文件名指定。如果参数中包含“/”字符，则会被当作文件名。如果指定了最大节点数如 -N 1-2，但是文件中有多余 2 个节点，则请求列表中只使用前 2 个节点。e --wckey=wckey作业使用的 wekey. AACE CPE TrackWCKey=no (ik), UCT KAR II.e -X, --disable-status禁止 yhrun 在收到单次 SIGINT (Ctrl-C) 时显示任务状态，而是将 SIGINT 立即传递到运行的作业。未使用此选项时，需要一秒钟内两次 Ctrl-C 才能强行终止作业并使 yhrun 退出。也可通过 SLURM DISABLE STATUS 环境变量设置。e -x, --exclude=node name list不要将指定的节点分配给作业。如果包含“/”字符，参数将被当作文件名。yhrun 将把作业请求提交到控制进程，然后在远程节点上局动所有进程。如果资源请求不能立即被满足，yhrun 将阻塞等待，直到资源可用以运行作业。如果指定了 --immediate 选项，则 yhrun 将在资源不是立即可用时终止。当局动远程任务时，yhzrun 将传递当前工作目录，",
        "局部域选项，则每个 socket 被作为一个局部域。文持的选项值包括:— qluiet]SEB ISAT A PLA TE CRA)— vLlerbose]任务运行前报告绑和定情况一 no [nej]不绑定任务到 CPU CRE)— rank根据任务号自动绑定。0 号任务被绑定到 0 号 socket (2K core BK thread), FF.仅在整个节点分配给作业的情况下文持。一 map_cpu: list按照给出的列表将 CPU 映射到任务，其中 list 形如 cpuidd,cpuid1,...cpuidN .CPU ID 为十进制数，有前组“0x”时为十六进制数。仅在整个节点分配给作业的情况下文持。158\n16.2. yhalloc一 mask cpu: list按照给出的列表设置任务的 CPU #885, eA list 形如 mask0,mask1,...maskN .CPU 撞码总是十六进制数，前缀“0x”可选。— sockets自动生成把任务绑定到 socket WEIS. WARES MS AACN socket WAT, FY能导致非最优绑定。— cores自动生成把任务绑定到 core 的掩码。如果任务数与分配的 core 数不同，可能导致非最优绑定。— threads自动生成把任务绑定到 thread 的掩码。如果任务数与分配的 thread AA,可能导致非最优绑定。一 ldoms自动生成把任务绑定到 NUMA 局部域的掩码。如果任务数与分配的NUMA 局部域数不同，可能导致非最优绑定。— help显示帮助信息。。 -C, —-Cpus-per-task=ncpus告知资源管理系统控制进程，作业步的每个任务需要 ncpus 个处理器。知未指定此选项，则控制进程加你个尝试为每个任务分配一个处理需。例如，考虑一个 4任务的应用，每个任务需要 3 个处理器。如果系统由四处理器贡点组成，而我们简单地请求 12 个处理器，则控制进程可能仅分配给 3 个节点。然而，通过使用 --cpus-per-task=3 选项，控制进程将知道每个任务需要同一节点上的 3"
    ]
}