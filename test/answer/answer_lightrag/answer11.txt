OST磁盘被设置为只读后，恢复读写状态需要按照以下步骤进行：1. 使用`mkfs.lustre`命令替换故障OST，并通过`--replace`选项恢复配置。若配置文件不可用，可从其他OST复制`mountdata`文件。挂载新OST后，需恢复配置并重新激活。若OST不可用，需在MGS中更新状态。可通过`lctl`命令获取OST节点信息，更改故障节点地址或分离MGS/MDT。操作需注意备份与配置恢复，确保文件系统正常运行。2. 当OST损坏时，可能需要使用循环OST或新格式化OST替换。此时丢失的对象会被创建并读取为零。每个OST包含LAST_ID文件，记录MDS预创建的最后一个对象。MDT中的lov_objid表示MDS分配给文件的最后一个对象。LAST_ID应大于lov_objid，否则可能导致对象创建问题。从Lustre 2.5开始，MDS会自动同步LAST_ID和lov_objid。从2.6开始，LFSCK可自动修复LAST_ID文件。若磁盘损坏或恢复，LAST_ID可能不一致，导致错误信息。此时MDS会调整lov_objid以避免删除数据。未被引用的对象将在下次LFSCK时放入lost+found目录。3. 启动Lustre时可能出现“bind: Address already in use”错误，需确保先启动Lustre再启动portmap服务，或更改端口。错误-28（ENOSPC）表示OST空间不足，可通过扩展空间或迁移文件解决。4. 为使用ldiskfs格式的OST指定非默认的inode ratio可能导致索引节点总数超过限制，从而引发空间超限错误，浪费空间并降低e2fsck速度。应使用默认inode ratio以确保系统正常运行。OST文件系统检查时间受多种因素影响，正常情况下每TiB需5-30分钟，若存在大量错误则时间会增加。5. Lustre文件系统有多个极限值，如最大MDTs数量、OSTs数量、OST大小、客户端数量等，这些值受架构和系统限制，部分可通过重新编译修改。文件条带化、文件大小、目录文件数等也有限制，具体数值因文件系统类型（如ldiskfs或ZFS）而异。Lustre支持大文件和大量文件，但实际容量受限于OST空间和配置。