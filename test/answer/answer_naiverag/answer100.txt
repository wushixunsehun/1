Lustre 文件系统中，通过 ost_tbf_nid_rule_start 和 ost_tbf_rule_change_rate 参数配置 OST 服务的令牌桶过滤（TBF）策略以限制特定客户端的 RPC 请求速率，主要涉及使用 lctl set param 命令设置 TBF 规则，规则可以基于 NID、JobID、Opcode、UID/GID 等条件进行分类，并可设置普通请求（reg）或高优先级请求（hp）的速率上限。具体配置方法如下：1. 使用 ost_tbf_nid_rule_start 参数指定 NID 范围以限制特定客户端的 RPC 请求速率，例如设置计算节点、登录节点或其他客户端的 RPC 速率，NID 列表的格式与配置 LNET 路由相同；2. 使用 ost_tbf_rule_change_rate 参数调整规则的速率上限，该参数用于控制 RPC 请求的速率，确保在高负载情况下仍能保持系统的稳定性；3. 可结合逻辑运算符“&”（与）和“|”（或）创建复杂条件表达式，以实现更细粒度的流量控制，例如同时满足操作码和 JobID 条件的 RPC 请求。此外，新规则默认优先级较高，但可通过 rank= 参数调整顺序，从而实现灵活的 QoS 管理。