用户在使用HPC4系统的Lustre分布式存储时需要注意以下关键事项：1. 在使用RAID设备时，应避免使用带有板载缓存的PCI适配卡，以防止HA故障转移时数据不一致；格式化RAID设备时需确保IO请求与底层RAID匹配，以提升性能；对于RAID 5、6或1+0，需指定参数优化元数据布局；计算stripe width时，应使条带宽度匹配IO大小，避免“读-修改-写”操作。此外，建议将OST日志放在单独设备上，使用RAID 1阵列，并确保内存足够存储日志副本。连接SAN至Lustre时需考虑扩展性、成本及安全风险，直接访问存储可能带来安全隐患。网络端口绑定为可选配置。2. Lustre文件系统中的授权缓存允许数据在超过OST配额时仍能成功写入，这可能导致配额限制失效，通过调整客户端参数可缓解此问题。Lustre还提供配额统计信息，用于监控和分析配额操作性能。此外，Lustre支持与分层存储管理(HSM)的集成，使文件可在高速缓存的Lustre文件系统和较慢的HSM存储之间同步。3. Lustre文件系统需要足够的RAM和存储配置以确保性能和可靠性。非故障切换配置下，8个OST的OSS至少需要32GB RAM，而故障切换配置则需至少48GB RAM，每个OST需要6GB内存。网络方面，Lustre使用专用TCP/IP子网或InfiniBand网络，需正确配置LNet模块。存储建议使用RAID，MDT推荐RAID 1或RAID 10，OST则推荐RAID 6以提供双重冗余。RAID配置需考虑性能与成本平衡，并配备RAID监控和热备磁盘以提高可靠性。软限制和硬限制的具体含义是：软限制是指用户或组在文件系统中可以使用的最大存储空间或文件数量的上限，当接近该限制时，系统会发出警告，但不会阻止操作；硬限制则是用户或组在文件系统中可以使用的最大存储空间或文件数量的绝对上限，一旦达到该限制，系统将拒绝进一步的操作。

