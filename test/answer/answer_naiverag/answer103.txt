使用yhalloc获取资源后，通过yhacct实时查询该作业的记账数据，验证资源分配是否符合预期的方法如下：1. 使用yhalloc命令获取资源并执行指定的命令，确保资源分配符合预期的约束条件，例如通过选项设置CPU、socket、core或thread的数量以及绑定方式；2. 在yhalloc成功分配资源并运行用户命令后，使用yhacct命令查询作业的记账数据，可以通过--brief选项显示简短列表，包含jobid、status和exitcode等信息，或者使用--fields自定义显示字段，如jobid、ncpus、ntasks、status和elapsed等；3. 通过yhacct的过滤选项如--user、--uid或--cluster，可以定位到特定用户或集群的作业数据，确保查询结果与当前作业相关，并检查记录类型如JOB_START、JOB_STEP和JOB_TERMINATED中的详细信息，以验证资源分配是否符合预期。