Lustre 文件系统通过 Root Squash 机制和例外客户端设置实现对客户端 Root 用户权限的细粒度控制，具体方法如下：1. Root Squash 是一种安全功能，用于限制超级用户访问 Lustre 文件系统的权限，它将 root 用户的 UID 和 GID 映射为指定的值，防止未授权客户端访问 root 文件。配置时需使用 root_squash 参数指定映射的 UID/GID，该参数可通过 mkfs.lustre、tunefs.lustre 或 lctl 命令进行设置。2. nosquash_nids 参数用于指定不适用 Root Squash 的客户端，其语法需符合 LNet NID 范围，例如“-nosquash nids=172.16.245.[0-255/2]@tcp”，表示子网 172.16.245.0 中 FIP 地址最后一部分为偶数的 TCP 客户端不适用 Root Squash。3. 配置 Root Squash 时需注意参数语法，错误设置可能导致默认值被使用，mkfs.lustre 和 tunefs.lustre 不进行参数语法检查，错误的 root squash 参数会在挂载时被忽略，而 lctl conf param 命令需在活动 MGS 上运行，并且每次只能更改一个参数。此外，Root Squash 设置可以临时或永久更改，调试时需通过 lctl get param 命令检索当前设置。