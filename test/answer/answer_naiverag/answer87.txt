Lustre 的网络堆栈由两层组成，分别是 LNet 代码模块和 LND（网络驱动程序）。LNet 层在 LND 层之上操作，负责无连接的、异步的数据传输，不进行数据验证，而 LND 层面向连接，负责实际的数据传输和验证。LNet 通过唯一的标签进行标识，如 tcp0、o2ib0 等，每个节点至少有一个网络标识符 (NID)，由网络接口地址和 LNet 标签组成。Lustre 支持的网络类型包括 InfiniBand（使用 o2ib 驱动）、TCP（包括 GigE、10GigE、IPoIB 等）、RapidArray（ra）、Quadrics（Elan4）等。LNet 还支持不同网络间的路由，允许各种不同网络互连间的端到端读/写吞吐量接近峰值带宽速率。一. Lustre 的网络堆栈组成：1. LNet 代码模块：负责无连接的、异步的数据传输，不进行数据验证。2. LND（网络驱动程序）：面向连接，负责实际的数据传输和验证。3. LNet 标签：用于标识不同的网络类型，如 tcp0、o2ib0 等。4. 网络标识符 (NID)：由网络接口地址和 LNet 标签组成，例如 192.168.1.2@tcp0 或 10.13.24.908@o2ib1。5. 路由功能：支持不同网络间的路由，实现跨网络的数据传输。二. Lustre 支持的网络类型：1. InfiniBand：使用 o2ib 驱动程序支持。2. TCP：包括 GigE、10GigE、IPoIB 等所有基于 TCP 的网络。3. RapidArray：使用 ra 驱动程序支持。4. Quadrics：使用 Elan4 协议支持。5. 其他网络类型：如 IP 网络等，通过相应的 LND 实现支持。