通过配置 Lustre 文件系统中的 ost_tbf_nid_rule_start 和 ost_tbf_rule_change_rate 参数，可以实现对 OST 服务的令牌桶过滤（TBF）策略进行设置，从而限制特定客户端的 RPC 请求速率。具体方法如下：1. 使用 lctl set param 命令配置 TBF 规则，例如通过指定 NID 范围来限制特定客户端的 RPC 请求速率。命令格式为：$ lctl set param ost.OSS.ost_io.nrs.tbf rule="start [reg|hp] rule name nid={nidlist} rate=rate"，其中 nidlist 的格式与配置 LNET 路由相同，rate 表示该规则的 RPC 速率上限。例如，限制登录节点的 RPC 请求速率为 100，可使用命令：$ lctl set param ost.OSS.ost_io.nrs.tbf rule="start loginnode nid={192.168.1.1@tcp} rate=100"。2. 可以通过 ost_tbf_rule_change_rate 参数调整已有的 TBF 规则的速率。命令格式为：$ lctl set param x.x.x.nrs.tbf rule="[reg|hp] change rule name rate=rate"，例如将登录节点的 RPC 请求速率从 100 调整为 200，可使用命令：$ lctl set param ost.OSS.ost_io.nrs.tbf rule="change loginnode rate=200"。3. 如果需要停用某个 TBF 规则，可以使用命令：$ lctl set param x.x.x.nrs.tbf rule="[reg|hp] stop rule name"，例如停用登录节点的规则，可使用命令：$ lctl set param ost.OSS.ost_io.nrs.tbf rule="stop loginnode"。此外，TBF 规则还支持基于 JobID、UID/GID、Opcode 等条件进行分类，并可通过逻辑运算符“&”（与）和“|”（或）组合多个条件，实现更精细的流量控制。