Lustre 文件系统中，`lock_reclaim_threshold_mb` 和 `lock_limit_mb` 参数用于控制客户端 LDLM 锁的内存占用，通过合理配置这些参数可以优化系统性能并避免内存资源过度消耗。1. `lock_reclaim_threshold_mb` 参数用于设置客户端在尝试回收 LDLM 锁之前允许的最大锁内存占用阈值，当客户端持有的锁内存超过此阈值时，系统会尝试回收部分锁以释放内存。2. `lock_limit_mb` 参数用于限制客户端可以使用的最大 LDLM 锁内存总量，超过该值后，系统将不再分配新的锁，从而防止内存溢出。3. 配置这两个参数通常需要在 Lustre 客户端的配置文件中进行调整，例如在 `/etc/lustre/` 目录下的相关配置文件中添加或修改参数值，或者通过 `lctl` 命令动态调整参数，具体命令格式为 `lctl set_param <parameter_name>=<value>`，其中 `<parameter_name>` 为 `lock_reclaim_threshold_mb` 或 `lock_limit_mb`，`<value>` 为所需的数值（单位为 MB）。此外，配置参数时应根据实际工作负载和系统内存情况合理设定数值，避免因设置过低导致锁分配失败或设置过高造成内存浪费。