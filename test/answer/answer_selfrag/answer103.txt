使用yhalloc获取资源后，通过yhacct实时查询该作业的记账数据，验证资源分配是否符合预期的方法如下：1. 使用yhalloc命令获取资源并执行指定的命令，确保在成功分配资源后运行用户指定的程序，例如通过设置相关选项如--nodes、--cpus-per-task等来控制资源分配；2. 在yhalloc分配资源并执行命令期间，可以使用yhacct命令实时查询作业的记账数据，通过选项如--brief或自定义字段显示作业状态、CPU时间、内存使用等信息，以确认资源是否按预期分配；3. 通过yhacct的过滤选项如--user、--cluster或--jobid等，可以精确查找特定作业的记账数据，结合作业的启动时间、结束状态、退出代码等字段判断资源使用情况是否符合预期，同时注意部分系统可能因getrusage()信息不全导致数据为0的情况。