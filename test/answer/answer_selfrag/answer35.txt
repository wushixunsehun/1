yhalloc 是用于请求资源并运行作业的命令，支持多种选项如指定用户、分区、时间限制等。要通过 yhalloc 设置作业最多运行2小时，可以使用相关选项来控制作业的运行时间，具体方法如下：1. 使用 --time=2:00 选项设置作业的最大运行时间为2小时，该选项直接指定作业的截止时间，确保作业在2小时后被终止；2. 环境变量可覆盖命令行选项，因此也可以通过设置环境变量来间接控制作业的运行时间，例如设置 SALLOC_TIME=2:00；3. 注意作业可能因其他原因被回收，例如用户使用 yhcancel 命令取消作业或作业到达运行时间限制，此时 yhalloc 会释放资源并退出。