1. 作业脚本需要配置MPI和OpenMP参数，确保正确调用容器和环境变量：在HPC4系统上提交MPI+OpenMP混合并行作业时，需编写包含环境变量设置和执行命令的脚本。根据提供的内容，可以参考以下脚本结构：#!/bin/bash#SBATCH -N 2#SBATCH -n 8#SBATCH --ntasks-per-node=4#SBATCH --cpus-per-task=9module add singularity/3.11.0export OMP_NUM_THREADS=9export I_MPI_SHM_LMT=shmsrun singularity exec env I_MPI_SHM_LMT=$I_MPI_SHM_LMT env PERLLIB=${PERLLIB} env LD_LIBRARY_PATH=${LD_LIBRARY_PATH} env PATH=${PATH} workdir=${PWD} /fs2/software/node/redhat-7.2.sif ./par.exe。该脚本使用了Slurm调度器，指定了2个计算节点，每个节点运行4个进程，每个进程开启9个线程，并设置了必要的环境变量。  \n2. 参数含义包括：SBATCH -N 2表示使用2个计算节点，SBATCH -n 8表示总共运行8个进程，SBATCH --ntasks-per-node=4表示每个节点运行4个进程，SBATCH --cpus-per-task=9表示每个进程开启9个线程。同时，export OMP_NUM_THREADS=9用于设置OpenMP线程数，export I_MPI_SHM_LMT=shm用于避免MPI错误，srun singularity exec用于执行Singularity容器中的程序。  \n3. 环境变量和依赖库的配置：在脚本中需要设置PERLLIB、LD_LIBRARY_PATH、PATH等环境变量，以确保容器内正确加载依赖库。例如，export PERLLIB=${PERLLIB}用于设置Perl库路径，export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}用于设置动态链接库路径，export PATH=${PATH}用于设置可执行文件路径。此外，还需要确保Singularity镜像路径正确，如/fs2/software/node/redhat-7.2.sif。
 