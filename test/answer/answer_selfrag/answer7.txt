Changelogs 在 Lustre 文件系统中主要用于记录文件系统元数据变更事件，如文件创建、删除、重命名、属性变更等，这些记录包含目标文件标识符 (FID)、目录文件标识符、目标名称、时间戳及用户信息，可用于多种用途，具体包括：1. 捕获最近的更改并存入归档系统；2. 利用 Changelogs 条目完成文件系统镜像的变更精确复制；3. 设置监测脚本，作用于某些事件或目录；4. 维护一个粗略的审计跟踪，记录文件/目录随时间戳变化及用户信息。此外，Changelogs 还可用于审计，以跟踪和评估系统操作，例如记录 OPEN、ATIME、GETXATTR 和 DENIED OPEN 等事件，从而帮助管理员了解谁在何时访问了哪些文件。启用 Changelogs 功能需要系统管理员注册 Changelogs 用户，运行命令 lctl changelog register，并设置相应的 changelog_mask 参数来控制记录的操作类型，例如使用 lctl set param mdd.lustre-MDT0000.changelog_mask=ALL 来启用所有记录类型。关闭 Changelogs 功能则可以通过注销用户或调整相关参数实现，例如通过 lfs changelog clear 清除特定用户的旧记录，或者通过 nodemap 设置 audit mode 标志为 0 来阻止某些客户端触发日志记录。