1. 在Lustre文件系统中，通过参数配置OST服务的Delay策略延迟处理请求的时间范围主要涉及以下关键参数：{service}.nrs_delay_min和{service}.nrs_delay_max，它们分别用于控制请求被此策略延迟的最短时间和最长时间量（以秒为单位）。默认情况下，{service}.nrs_delay_min的值为5秒，而{service}.nrs_delay_max的值为300秒。用户可以通过lctl命令来设置这些参数的具体值，例如使用"lctl set param {service}.nrs delay min=10"将最小延迟时间设置为10秒，或者使用"lctl set param {service}.nrs delay max=60"将最大延迟时间设置为60秒。此外，还可以为常规和高优先级RPC设置不同的最小和最大延迟时间，例如"lctl set param {service}.nrs delay min=reg delay min|hp delay min:3"将高优先级RPC的最小延迟时间设置为3秒。
2. 除了{service}.nrs_delay_min和{service}.nrs_delay_max之外，还有一个重要的参数是{service}.nrs_delay_pct，它用于控制会被此延迟策略推迟的请求的百分比。默认值为100，表示所有请求都会被延迟处理。如果某一请求没有被延迟策略选中并推迟处理请求，该请求将由该服务定义的回退策略来处理。如果没有定义其他回退策略，则该请求由FIFO策略处理。用户可以通过"lctl get param {service}.nrs delay pct"来读取当前的延迟百分比，并通过"lctl set param {service}.nrs delay pct=50"将其设置为50%。
3. 配置这些参数的具体步骤如下：首先，确定需要配置的OST服务名称，例如"ost.OSS.ost_io"。然后，使用"lctl get param {service}.nrs delay min"和"lctl get param {service}.nrs delay max"来查看当前的最小和最大延迟时间。接着，根据需求调整这些参数的值，例如"lctl set param {service}.nrs delay min=10"和"lctl set param {service}.nrs delay max=60"。最后，验证配置是否生效，可以再次使用"lctl get param {service}.nrs delay min"和"lctl get param {service}.nrs delay max"来确认新的值是否已应用。对于高优先级RPC的特殊配置，可以使用类似的方法，如"lctl set param {service}.nrs delay min=hp delay min:3"来设置高优先级RPC的最小延迟时间。

